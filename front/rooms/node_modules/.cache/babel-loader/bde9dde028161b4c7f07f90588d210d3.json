{"ast":null,"code":"import { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport * as React from \"react\";\nimport { classNames } from \"@vkontakte/vkjs\";\nimport { useEventListener } from \"../../hooks/useEventListener\";\nimport { useExternRef } from \"../../hooks/useExternRef\";\nimport { useDOM } from \"../../lib/dom\";\nimport { useIsomorphicLayoutEffect } from \"../../lib/useIsomorphicLayoutEffect\";\nimport { stopPropagation } from \"../../lib/utils\";\nimport { useTrackerVisibility } from \"./useTrackerVisibility\";\nexport var CustomScrollView = function (_param) {\n  var subscribe = function subscribe(el) {\n    if (el) {\n      listeners.forEach(function (l) {\n        return l.add(el);\n      });\n    }\n  };\n  var unsubscribe = function unsubscribe() {\n    listeners.forEach(function (l) {\n      return l.remove();\n    });\n  };\n  var className = _param.className,\n    children = _param.children,\n    externalBoxRef = _param.boxRef,\n    windowResize = _param.windowResize,\n    _param_autoHideScrollbar = _param.autoHideScrollbar,\n    autoHideScrollbar = _param_autoHideScrollbar === void 0 ? false : _param_autoHideScrollbar,\n    autoHideScrollbarDelay = _param.autoHideScrollbarDelay,\n    onScroll = _param.onScroll,\n    getRootRef = _param.getRootRef,\n    restProps = _object_without_properties(_param, [\"className\", \"children\", \"boxRef\", \"windowResize\", \"autoHideScrollbar\", \"autoHideScrollbarDelay\", \"onScroll\", \"getRootRef\"]);\n  var _useDOM = useDOM(),\n    document = _useDOM.document,\n    window = _useDOM.window;\n  var ratio = React.useRef(NaN);\n  var lastTrackerTop = React.useRef(0);\n  var clientHeight = React.useRef(0);\n  var trackerHeight = React.useRef(0);\n  var scrollHeight = React.useRef(0);\n  var transformProp = React.useRef(\"\");\n  var startY = React.useRef(0);\n  var trackerTop = React.useRef(0);\n  var boxRef = useExternRef(externalBoxRef);\n  var barY = React.useRef(null);\n  var trackerY = React.useRef(null);\n  var setTrackerPosition = function (scrollTop) {\n    lastTrackerTop.current = scrollTop;\n    if (trackerY.current !== null) {\n      trackerY.current.style[transformProp.current] = \"translate(0, \".concat(scrollTop, \"px)\");\n    }\n  };\n  var setTrackerPositionFromScroll = function (scrollTop) {\n    var progress = scrollTop / (scrollHeight.current - clientHeight.current);\n    setTrackerPosition((clientHeight.current - trackerHeight.current) * progress);\n  };\n  var resize = function () {\n    if (!boxRef.current || !barY.current || !trackerY.current) {\n      return;\n    }\n    var localClientHeight = boxRef.current.clientHeight;\n    var localScrollHeight = boxRef.current.scrollHeight;\n    var localRatio = localClientHeight / localScrollHeight;\n    var localTrackerHeight = Math.max(localClientHeight * localRatio, 40);\n    ratio.current = localRatio;\n    clientHeight.current = localClientHeight;\n    scrollHeight.current = localScrollHeight;\n    trackerHeight.current = localTrackerHeight;\n    if (localRatio >= 1) {\n      barY.current.style.display = \"none\";\n    } else {\n      barY.current.style.display = \"\";\n      trackerY.current.style.height = \"\".concat(localTrackerHeight, \"px\");\n      setTrackerPositionFromScroll(boxRef.current.scrollTop);\n    }\n  };\n  var resizeHandler = useEventListener(\"resize\", resize);\n  useIsomorphicLayoutEffect(function () {\n    if (windowResize && window) {\n      resizeHandler.add(window);\n    }\n  }, [windowResize, window]);\n  useIsomorphicLayoutEffect(function () {\n    var _trackerY_current;\n    var style = (_trackerY_current = trackerY.current) === null || _trackerY_current === void 0 ? void 0 : _trackerY_current.style;\n    var prop = \"\";\n    if (style !== undefined) {\n      if (\"transform\" in style) {\n        prop = \"transform\";\n      } else if (\"webkitTransform\" in style) {\n        prop = \"webkitTransform\";\n      }\n    }\n    transformProp.current = prop;\n  }, []);\n  useIsomorphicLayoutEffect(resize);\n  var setScrollPositionFromTracker = function (trackerTop) {\n    var progress = trackerTop / (clientHeight.current - trackerHeight.current);\n    if (boxRef.current !== null) {\n      boxRef.current.scrollTop = (scrollHeight.current - clientHeight.current) * progress;\n    }\n  };\n  var onMove = function (e) {\n    e.preventDefault();\n    var diff = e.clientY - startY.current;\n    var position = Math.min(Math.max(trackerTop.current + diff, 0), clientHeight.current - trackerHeight.current);\n    setScrollPositionFromTracker(position);\n  };\n  var _useTrackerVisibility = useTrackerVisibility(autoHideScrollbar, autoHideScrollbarDelay),\n    trackerVisible = _useTrackerVisibility.trackerVisible,\n    onTargetScroll = _useTrackerVisibility.onTargetScroll,\n    onTrackerDragStart = _useTrackerVisibility.onTrackerDragStart,\n    onTrackerDragStop = _useTrackerVisibility.onTrackerDragStop,\n    onTrackerMouseEnter = _useTrackerVisibility.onTrackerMouseEnter,\n    onTrackerMouseLeave = _useTrackerVisibility.onTrackerMouseLeave;\n  var onUp = function (e) {\n    e.preventDefault();\n    if (autoHideScrollbar) {\n      onTrackerDragStop();\n    }\n    unsubscribe();\n  };\n  var scroll = function (event) {\n    if (ratio.current >= 1 || !boxRef.current) {\n      return;\n    }\n    if (autoHideScrollbar) {\n      onTargetScroll();\n    }\n    setTrackerPositionFromScroll(boxRef.current.scrollTop);\n    onScroll === null || onScroll === void 0 ? void 0 : onScroll(event);\n  };\n  var listeners = [useEventListener(\"mousemove\", onMove), useEventListener(\"mouseup\", onUp)];\n  var onDragStart = function (e) {\n    e.preventDefault();\n    startY.current = e.clientY;\n    trackerTop.current = lastTrackerTop.current;\n    if (autoHideScrollbar) {\n      onTrackerDragStart();\n    }\n    subscribe(document);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", _object_spread({\n    className: classNames(\"vkuiCustomScrollView\", className),\n    ref: getRootRef\n  }, restProps), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiCustomScrollView__box\",\n    tabIndex: -1,\n    ref: boxRef,\n    onScroll: scroll\n  }, children), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiCustomScrollView__barY\",\n    ref: barY,\n    onClick: stopPropagation\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"vkuiCustomScrollView__trackerY\", !trackerVisible && \"vkuiCustomScrollView__trackerY--hidden\"),\n    onMouseEnter: autoHideScrollbar ? onTrackerMouseEnter : undefined,\n    onMouseLeave: autoHideScrollbar ? onTrackerMouseLeave : undefined,\n    ref: trackerY,\n    onMouseDown: onDragStart\n  })));\n};","map":{"version":3,"names":["React","classNames","useEventListener","useExternRef","useDOM","useIsomorphicLayoutEffect","stopPropagation","useTrackerVisibility","CustomScrollView","_param","subscribe","el","listeners","forEach","l","add","unsubscribe","remove","className","children","externalBoxRef","boxRef","windowResize","_param_autoHideScrollbar","autoHideScrollbar","autoHideScrollbarDelay","onScroll","getRootRef","restProps","_object_without_properties","_useDOM","document","window","ratio","useRef","NaN","lastTrackerTop","clientHeight","trackerHeight","scrollHeight","transformProp","startY","trackerTop","barY","trackerY","setTrackerPosition","scrollTop","current","style","concat","setTrackerPositionFromScroll","progress","resize","localClientHeight","localScrollHeight","localRatio","localTrackerHeight","Math","max","display","height","resizeHandler","_trackerY_current","prop","undefined","setScrollPositionFromTracker","onMove","e","preventDefault","diff","clientY","position","min","_useTrackerVisibility","trackerVisible","onTargetScroll","onTrackerDragStart","onTrackerDragStop","onTrackerMouseEnter","onTrackerMouseLeave","onUp","scroll","event","onDragStart","createElement","_object_spread","ref","tabIndex","onClick","onMouseEnter","onMouseLeave","onMouseDown"],"sources":["../../../src/components/CustomScrollView/CustomScrollView.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useEventListener } from '../../hooks/useEventListener';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { DOMProps, useDOM } from '../../lib/dom';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { stopPropagation } from '../../lib/utils';\nimport type { HasRootRef } from '../../types';\nimport { TrackerOptionsProps, useTrackerVisibility } from './useTrackerVisibility';\nimport styles from './CustomScrollView.module.css';\n\nexport interface CustomScrollViewProps\n  extends React.AllHTMLAttributes<HTMLDivElement>,\n    DOMProps, // TODO [>=6]: remove\n    HasRootRef<HTMLDivElement>,\n    TrackerOptionsProps {\n  windowResize?: boolean;\n  boxRef?: React.Ref<HTMLDivElement>;\n  className?: HTMLDivElement['className'];\n  onScroll?(event: React.UIEvent<HTMLDivElement>): void;\n  children: React.ReactNode;\n}\n\nexport const CustomScrollView = ({\n  className,\n  children,\n  boxRef: externalBoxRef,\n  windowResize,\n  autoHideScrollbar = false,\n  autoHideScrollbarDelay,\n  onScroll,\n  getRootRef,\n  ...restProps\n}: CustomScrollViewProps) => {\n  const { document, window } = useDOM();\n\n  const ratio = React.useRef(NaN);\n  const lastTrackerTop = React.useRef(0);\n  const clientHeight = React.useRef(0);\n  const trackerHeight = React.useRef(0);\n  const scrollHeight = React.useRef(0);\n  const transformProp = React.useRef('');\n  const startY = React.useRef(0);\n  const trackerTop = React.useRef(0);\n\n  const boxRef = useExternRef(externalBoxRef);\n\n  const barY = React.useRef<HTMLDivElement>(null);\n  const trackerY = React.useRef<HTMLDivElement>(null);\n\n  const setTrackerPosition = (scrollTop: number) => {\n    lastTrackerTop.current = scrollTop;\n    if (trackerY.current !== null) {\n      (trackerY.current.style as any)[transformProp.current] = `translate(0, ${scrollTop}px)`;\n    }\n  };\n\n  const setTrackerPositionFromScroll = (scrollTop: number) => {\n    const progress = scrollTop / (scrollHeight.current - clientHeight.current);\n    setTrackerPosition((clientHeight.current - trackerHeight.current) * progress);\n  };\n\n  const resize = () => {\n    if (!boxRef.current || !barY.current || !trackerY.current) {\n      return;\n    }\n    const localClientHeight = boxRef.current.clientHeight;\n    const localScrollHeight = boxRef.current.scrollHeight;\n    const localRatio = localClientHeight / localScrollHeight;\n    const localTrackerHeight = Math.max(localClientHeight * localRatio, 40);\n\n    ratio.current = localRatio;\n    clientHeight.current = localClientHeight;\n    scrollHeight.current = localScrollHeight;\n    trackerHeight.current = localTrackerHeight;\n\n    if (localRatio >= 1) {\n      barY.current.style.display = 'none';\n    } else {\n      barY.current.style.display = '';\n      trackerY.current.style.height = `${localTrackerHeight}px`;\n      setTrackerPositionFromScroll(boxRef.current.scrollTop);\n    }\n  };\n\n  const resizeHandler = useEventListener('resize', resize);\n\n  useIsomorphicLayoutEffect(() => {\n    if (windowResize && window) {\n      resizeHandler.add(window);\n    }\n  }, [windowResize, window]);\n\n  useIsomorphicLayoutEffect(() => {\n    let style = trackerY.current?.style;\n    let prop = '';\n    if (style !== undefined) {\n      if ('transform' in style) {\n        prop = 'transform';\n      } else if ('webkitTransform' in style) {\n        prop = 'webkitTransform';\n      }\n    }\n    transformProp.current = prop;\n  }, []);\n\n  useIsomorphicLayoutEffect(resize);\n\n  const setScrollPositionFromTracker = (trackerTop: number) => {\n    const progress = trackerTop / (clientHeight.current - trackerHeight.current);\n    if (boxRef.current !== null) {\n      boxRef.current.scrollTop = (scrollHeight.current - clientHeight.current) * progress;\n    }\n  };\n\n  const onMove = (e: MouseEvent) => {\n    e.preventDefault();\n    const diff = e.clientY - startY.current;\n    const position = Math.min(\n      Math.max(trackerTop.current + diff, 0),\n      clientHeight.current - trackerHeight.current,\n    );\n\n    setScrollPositionFromTracker(position);\n  };\n\n  const {\n    trackerVisible,\n    onTargetScroll,\n    onTrackerDragStart,\n    onTrackerDragStop,\n    onTrackerMouseEnter,\n    onTrackerMouseLeave,\n  } = useTrackerVisibility(autoHideScrollbar, autoHideScrollbarDelay);\n\n  const onUp = (e: MouseEvent) => {\n    e.preventDefault();\n\n    if (autoHideScrollbar) {\n      onTrackerDragStop();\n    }\n\n    unsubscribe();\n  };\n\n  const scroll = (event: React.UIEvent<HTMLDivElement>) => {\n    if (ratio.current >= 1 || !boxRef.current) {\n      return;\n    }\n\n    if (autoHideScrollbar) {\n      onTargetScroll();\n    }\n\n    setTrackerPositionFromScroll(boxRef.current.scrollTop);\n    onScroll?.(event);\n  };\n\n  const listeners = [useEventListener('mousemove', onMove), useEventListener('mouseup', onUp)];\n\n  function subscribe(el: Document | undefined) {\n    if (el) {\n      listeners.forEach((l) => l.add(el));\n    }\n  }\n\n  function unsubscribe() {\n    listeners.forEach((l) => l.remove());\n  }\n\n  const onDragStart = (e: React.MouseEvent) => {\n    e.preventDefault();\n    startY.current = e.clientY;\n    trackerTop.current = lastTrackerTop.current;\n\n    if (autoHideScrollbar) {\n      onTrackerDragStart();\n    }\n\n    subscribe(document);\n  };\n\n  return (\n    <div\n      className={classNames(styles['CustomScrollView'], className)}\n      ref={getRootRef}\n      {...restProps}\n    >\n      <div className={styles['CustomScrollView__box']} tabIndex={-1} ref={boxRef} onScroll={scroll}>\n        {children}\n      </div>\n\n      <div className={styles['CustomScrollView__barY']} ref={barY} onClick={stopPropagation}>\n        <div\n          className={classNames(\n            styles['CustomScrollView__trackerY'],\n            !trackerVisible && styles['CustomScrollView__trackerY--hidden'],\n          )}\n          onMouseEnter={autoHideScrollbar ? onTrackerMouseEnter : undefined}\n          onMouseLeave={autoHideScrollbar ? onTrackerMouseLeave : undefined}\n          ref={trackerY}\n          onMouseDown={onDragStart}\n        />\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}