{"ast":null,"code":"import * as React from \"react\";\nimport { canUseDOM } from \"../lib/dom\";\nimport { useIsomorphicLayoutEffect } from \"../lib/useIsomorphicLayoutEffect\";\nexport function useTimeout(cb, duration) {\n  var options = React.useRef({\n    cb: cb,\n    duration: duration\n  });\n  useIsomorphicLayoutEffect(function () {\n    options.current.cb = cb;\n    options.current.duration = duration;\n  }, [cb, duration]);\n  var timeout = React.useRef();\n  var clear = React.useCallback(function () {\n    if (canUseDOM && (timeout === null || timeout === void 0 ? void 0 : timeout.current)) {\n      clearTimeout(timeout.current);\n    }\n  }, []);\n  var set = React.useCallback(function () {\n    var _$duration = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : options.current.duration;\n    clear();\n    if (canUseDOM) {\n      timeout.current = setTimeout(function () {\n        var _$cb = options.current.cb;\n        typeof _$cb === \"function\" && _$cb();\n      }, _$duration);\n    }\n  }, [clear]);\n  useIsomorphicLayoutEffect(function () {\n    return clear;\n  }, []);\n  return {\n    set: set,\n    clear: clear\n  };\n}","map":{"version":3,"names":["React","canUseDOM","useIsomorphicLayoutEffect","useTimeout","cb","duration","options","useRef","current","timeout","clear","useCallback","clearTimeout","set","_$duration","arguments","length","setTimeout","_$cb"],"sources":["../../src/hooks/useTimeout.ts"],"sourcesContent":["import * as React from 'react';\nimport { canUseDOM } from '../lib/dom';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\n\nexport function useTimeout(cb: () => any, duration: number) {\n  const options = React.useRef({ cb, duration });\n  useIsomorphicLayoutEffect(() => {\n    options.current.cb = cb;\n    options.current.duration = duration;\n  }, [cb, duration]);\n\n  const timeout = React.useRef<ReturnType<typeof setTimeout>>();\n  const clear = React.useCallback(() => {\n    if (canUseDOM && timeout?.current) {\n      clearTimeout(timeout.current);\n    }\n  }, []);\n  const set = React.useCallback(\n    (duration = options.current.duration) => {\n      clear();\n      if (canUseDOM) {\n        timeout.current = setTimeout(() => {\n          const { cb } = options.current;\n          typeof cb === 'function' && cb();\n        }, duration);\n      }\n    },\n    [clear],\n  );\n  useIsomorphicLayoutEffect(() => clear, []);\n\n  return { set, clear };\n}\n"],"mappings":"AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,SAAS,QAAQ;AAC1B,SAASC,yBAAyB,QAAQ;AAE1C,OAAO,SAASC,WAAWC,EAAa,EAAEC,QAAgB;EACxD,IAAMC,OAAA,GAAUN,KAAA,CAAMO,MAAM,CAAC;IAAEH,EAAA,EAAAA,EAAA;IAAIC,QAAA,EAAAA;EAAS;EAC5CH,yBAAA,CAA0B;IACxBI,OAAA,CAAQE,OAAO,CAACJ,EAAE,GAAGA,EAAA;IACrBE,OAAA,CAAQE,OAAO,CAACH,QAAQ,GAAGA,QAAA;EAC7B,GAAG,CAACD,EAAA,EAAIC,QAAA,CAAS;EAEjB,IAAMI,OAAA,GAAUT,KAAA,CAAMO,MAAM;EAC5B,IAAMG,KAAA,GAAQV,KAAA,CAAMW,WAAW,CAAC;IAC9B,IAAIV,SAAA,KAAaQ,OAAA,aAAAA,OAAA,uBAAAA,OAAA,CAASD,OAAO,GAAE;MACjCI,YAAA,CAAaH,OAAA,CAAQD,OAAO;IAC9B;EACF,GAAG,EAAE;EACL,IAAMK,GAAA,GAAMb,KAAA,CAAMW,WAAW,CAC3B;QAACG,UAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,iBAAAA,SAAA,MAAWT,OAAA,CAAQE,OAAO,CAACH,QAAQ;IAClCK,KAAA;IACA,IAAIT,SAAA,EAAW;MACbQ,OAAA,CAAQD,OAAO,GAAGS,UAAA,CAAW;QAC3B,IAAMC,IAAE,GAAOZ,OAAA,CAAQE,OAAO,CAAtBJ,EAAA;QACR,OAAOc,IAAA,KAAO,cAAcA,IAAA;MAC9B,GAAGJ,UAAA;IACL;EACF,GACA,CAACJ,KAAA,CAAM;EAETR,yBAAA,CAA0B;WAAMQ,KAAA;KAAO,EAAE;EAEzC,OAAO;IAAEG,GAAA,EAAAA,GAAA;IAAKH,KAAA,EAAAA;EAAM;AACtB"},"metadata":{},"sourceType":"module"}