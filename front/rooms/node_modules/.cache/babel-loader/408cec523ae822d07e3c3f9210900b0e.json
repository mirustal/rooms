{"ast":null,"code":"import { _ as _define_property } from \"@swc/helpers/_/_define_property\";\nimport { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport { _ as _sliced_to_array } from \"@swc/helpers/_/_sliced_to_array\";\nimport * as React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { hasReactNode } from \"@vkontakte/vkjs\";\nimport { useExternRef } from \"../../hooks/useExternRef\";\nimport { arrowMiddleware, autoPlacementMiddleware, autoUpdateFloatingElement, checkIsNotAutoPlacement, convertFloatingDataToReactCSSProperties, flipMiddleware, getAutoPlacementAlign, offsetMiddleware, shiftMiddleware, useFloating } from \"../../lib/floating\";\nimport { warnOnce } from \"../../lib/warnOnce\";\nimport { useNavTransition } from \"../NavTransitionContext/NavTransitionContext\";\nimport { TOOLTIP_MAX_WIDTH, TooltipBase } from \"../TooltipBase/TooltipBase\";\nimport { tooltipContainerAttr } from \"./TooltipContainer\";\nvar isDOMTypeElement = function (element) {\n  return /*#__PURE__*/React.isValidElement(element) && typeof element.type === \"string\";\n};\nvar warn = warnOnce(\"Tooltip\");\nfunction mapAlignX(x) {\n  switch (x) {\n    case \"left\":\n      return \"start\";\n    case \"right\":\n      return \"end\";\n    default:\n      return \"\";\n  }\n}\nfunction getDefaultPlacement(alignX, alignY) {\n  return [alignY || \"bottom\", mapAlignX(alignX || \"left\")].filter(function (p) {\n    return !!p;\n  }).join(\"-\");\n}\nfunction isVerticalPlacement(placement) {\n  return placement.startsWith(\"top\") || placement.startsWith(\"bottom\");\n}\n/**\n * @see https://vkcom.github.io/VKUI/#/Tooltip\n */\nexport var Tooltip = function (_param) {\n  var children = _param.children,\n    tmp = _param.isShown,\n    isShownProp = tmp === void 0 ? true : tmp,\n    _param_offsetX = _param.offsetX,\n    offsetX = _param_offsetX === void 0 ? 0 : _param_offsetX,\n    _param_offsetY = _param.offsetY,\n    offsetY = _param_offsetY === void 0 ? 15 : _param_offsetY,\n    alignX = _param.alignX,\n    alignY = _param.alignY,\n    onClose = _param.onClose,\n    _param_cornerOffset = _param.cornerOffset,\n    cornerOffset = _param_cornerOffset === void 0 ? 0 : _param_cornerOffset,\n    cornerAbsoluteOffset = _param.cornerAbsoluteOffset,\n    _param_arrow = _param.arrow,\n    arrow = _param_arrow === void 0 ? true : _param_arrow,\n    _param_arrowPadding = _param.arrowPadding,\n    arrowPadding = _param_arrowPadding === void 0 ? 14 : _param_arrowPadding,\n    placementProp = _param.placement,\n    _param_maxWidth = _param.maxWidth,\n    maxWidth = _param_maxWidth === void 0 ? TOOLTIP_MAX_WIDTH : _param_maxWidth,\n    restProps = _object_without_properties(_param, [\"children\", \"isShown\", \"offsetX\", \"offsetY\", \"alignX\", \"alignY\", \"onClose\", \"cornerOffset\", \"cornerAbsoluteOffset\", \"arrow\", \"arrowPadding\", \"placement\", \"maxWidth\"]);\n  var _React_useState = _sliced_to_array(React.useState(null), 2),\n    arrowRef = _React_useState[0],\n    setArrowRef = _React_useState[1];\n  var _React_useState1 = _sliced_to_array(React.useState(null), 2),\n    target = _React_useState1[0],\n    setTarget = _React_useState1[1];\n  /* eslint-disable no-restricted-properties */\n  var tooltipContainer = React.useMemo(function () {\n    return target === null || target === void 0 ? void 0 : target.closest(\"[\".concat(tooltipContainerAttr, \"]\"));\n  }, [target]);\n  var entering = useNavTransition().entering;\n  var isShown = isShownProp && tooltipContainer && !entering;\n  var placement = placementProp || getDefaultPlacement(alignX, alignY);\n  var isNotAutoPlacement = checkIsNotAutoPlacement(placement);\n  if (process.env.NODE_ENV === \"development\") {\n    var multiChildren = React.Children.count(children) > 1;\n    // Empty children is a noop\n    var primitiveChild = hasReactNode(children) && typeof children !== \"object\";\n    (multiChildren || primitiveChild) && warn([\"children должен быть одним React элементом, получено\", multiChildren && \"несколько\", primitiveChild && JSON.stringify(children)].filter(Boolean).join(\" \"), \"error\");\n  }\n  var floatingPositionStrategy = React.useMemo(function () {\n    return (target === null || target === void 0 ? void 0 : target.style.position) === \"fixed\" ? \"fixed\" : \"absolute\";\n  }, [target]);\n  if (process.env.NODE_ENV === \"development\" && target && !tooltipContainer) {\n    throw new Error(\"Use TooltipContainer for Tooltip outside Panel (see docs)\");\n  }\n  var memoizedMiddlewares = React.useMemo(function () {\n    var middlewares = [offsetMiddleware({\n      crossAxis: offsetX,\n      mainAxis: offsetY\n    })];\n    // см. https://floating-ui.com/docs/flip#conflict-with-autoplacement\n    if (isNotAutoPlacement) {\n      middlewares.push(flipMiddleware());\n    } else {\n      middlewares.push(autoPlacementMiddleware({\n        alignment: placement ? getAutoPlacementAlign(placement) : null\n      }));\n    }\n    middlewares.push(shiftMiddleware());\n    // см. https://floating-ui.com/docs/arrow#order\n    if (arrow) {\n      middlewares.push(arrowMiddleware({\n        element: arrowRef,\n        padding: arrowPadding\n      }));\n      middlewares.push({\n        name: \"arrowOffset\",\n        fn: function fn(param) {\n          var placement = param.placement,\n            middlewareData = param.middlewareData;\n          if (!middlewareData.arrow) {\n            return Promise.resolve({});\n          }\n          if (isVerticalPlacement(placement)) {\n            if (cornerAbsoluteOffset !== undefined) {\n              middlewareData.arrow.x = cornerAbsoluteOffset;\n            } else if (middlewareData.arrow.x !== undefined) {\n              middlewareData.arrow.x += cornerOffset;\n            }\n          } else {\n            if (cornerAbsoluteOffset !== undefined) {\n              middlewareData.arrow.y = cornerAbsoluteOffset;\n            } else if (middlewareData.arrow.y !== undefined) {\n              middlewareData.arrow.y += cornerOffset;\n            }\n          }\n          return Promise.resolve({});\n        }\n      });\n    }\n    return middlewares;\n  }, [arrow, arrowRef, arrowPadding, cornerAbsoluteOffset, cornerOffset, offsetX, offsetY, placement, isNotAutoPlacement]);\n  var _useFloating = useFloating({\n      strategy: floatingPositionStrategy,\n      placement: isNotAutoPlacement ? placement : undefined,\n      middleware: memoizedMiddlewares,\n      whileElementsMounted: autoUpdateFloatingElement\n    }),\n    floatingDataX = _useFloating.x,\n    floatingDataY = _useFloating.y,\n    resolvedPlacement = _useFloating.placement,\n    refs = _useFloating.refs,\n    _useFloating_middlewareData = _useFloating.middlewareData,\n    arrowCoords = _useFloating_middlewareData.arrow;\n  var childRef = isDOMTypeElement(children) ? children.ref : /*#__PURE__*/React.isValidElement(children) ? children.props.getRootRef : null;\n  var patchedRef = useExternRef(setTarget, refs.setReference, childRef);\n  var child = /*#__PURE__*/React.isValidElement(children) ? /*#__PURE__*/React.cloneElement(children, _define_property({}, isDOMTypeElement(children) ? \"ref\" : \"getRootRef\", patchedRef)) : children;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, child, isShown && target != null && /*#__PURE__*/ReactDOM.createPortal( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TooltipBase, _object_spread_props(_object_spread({}, restProps), {\n    getRootRef: refs.setFloating,\n    floatingStyle: convertFloatingDataToReactCSSProperties(floatingPositionStrategy, floatingDataX, floatingDataY),\n    withArrow: arrow,\n    arrowCoords: arrowCoords,\n    arrowPlacement: resolvedPlacement,\n    getArrowRef: setArrowRef,\n    maxWidth: maxWidth\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiTooltip__overlay\",\n    onClickCapture: onClose\n  })), tooltipContainer));\n};","map":{"version":3,"names":["React","ReactDOM","hasReactNode","useExternRef","arrowMiddleware","autoPlacementMiddleware","autoUpdateFloatingElement","checkIsNotAutoPlacement","convertFloatingDataToReactCSSProperties","flipMiddleware","getAutoPlacementAlign","offsetMiddleware","shiftMiddleware","useFloating","warnOnce","useNavTransition","TOOLTIP_MAX_WIDTH","TooltipBase","tooltipContainerAttr","isDOMTypeElement","element","isValidElement","type","warn","mapAlignX","x","getDefaultPlacement","alignX","alignY","filter","p","join","isVerticalPlacement","placement","startsWith","Tooltip","_param","children","tmp","isShown","isShownProp","_param_offsetX","offsetX","_param_offsetY","offsetY","onClose","_param_cornerOffset","cornerOffset","cornerAbsoluteOffset","_param_arrow","arrow","_param_arrowPadding","arrowPadding","placementProp","_param_maxWidth","maxWidth","restProps","_object_without_properties","_React_useState","_sliced_to_array","useState","arrowRef","setArrowRef","_React_useState1","target","setTarget","tooltipContainer","useMemo","closest","concat","entering","isNotAutoPlacement","process","env","NODE_ENV","multiChildren","Children","count","primitiveChild","JSON","stringify","Boolean","floatingPositionStrategy","style","position","Error","memoizedMiddlewares","middlewares","crossAxis","mainAxis","push","alignment","padding","name","fn","param","middlewareData","Promise","resolve","undefined","y","_useFloating","strategy","middleware","whileElementsMounted","floatingDataX","floatingDataY","resolvedPlacement","refs","_useFloating_middlewareData","arrowCoords","childRef","ref","props","getRootRef","patchedRef","setReference","child","cloneElement","_define_property","createElement","Fragment","createPortal","_object_spread_props","_object_spread","setFloating","floatingStyle","withArrow","arrowPlacement","getArrowRef","className","onClickCapture"],"sources":["../../../src/components/Tooltip/Tooltip.tsx"],"sourcesContent":["import * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport { hasReactNode } from '@vkontakte/vkjs';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport {\n  arrowMiddleware,\n  autoPlacementMiddleware,\n  autoUpdateFloatingElement,\n  checkIsNotAutoPlacement,\n  convertFloatingDataToReactCSSProperties,\n  flipMiddleware,\n  getAutoPlacementAlign,\n  offsetMiddleware,\n  type Placement,\n  type PlacementWithAuto,\n  shiftMiddleware,\n  useFloating,\n  type UseFloatingMiddleware,\n} from '../../lib/floating';\nimport { warnOnce } from '../../lib/warnOnce';\nimport { HasRootRef } from '../../types';\nimport { useNavTransition } from '../NavTransitionContext/NavTransitionContext';\nimport { TOOLTIP_MAX_WIDTH, TooltipBase, type TooltipBaseProps } from '../TooltipBase/TooltipBase';\nimport { tooltipContainerAttr } from './TooltipContainer';\nimport styles from './Tooltip.module.css';\n\n/**\n * Перебиваем `ref`.\n *\n * В оригинальном `React.DOMElement` задаётся `React.LegacyRef<T>`, в котором есть `string`.\n * Когда как `{ ref: \"string\" }` уже давно депрекейтнут.\n */\ninterface DOMElement<P extends React.HTMLAttributes<T> | React.SVGAttributes<T>, T extends Element>\n  extends React.DOMElement<P, T> {\n  ref: React.Ref<T>;\n}\n\nconst isDOMTypeElement = <\n  P extends React.HTMLAttributes<T> | React.SVGAttributes<T>,\n  T extends Element,\n>(\n  element: React.ReactElement,\n): element is DOMElement<P, T> => {\n  return React.isValidElement(element) && typeof element.type === 'string';\n};\n\nconst warn = warnOnce('Tooltip');\n\nexport interface TooltipProps\n  extends Omit<\n    TooltipBaseProps,\n    'arrowCoords' | 'arrowPlacement' | 'getArrowRef' | 'floatingStyle' | 'withArrow'\n  > {\n  /**\n   * **Важно**: если в `children` передан React-компонент, то необходимо убедиться в том, что он поддерживает\n   * свойство `getRootRef`, которое должно возвращаться ссылку на корневой DOM-элемент компонента,\n   * иначе тултип показан не будет. Если передан React-element, то такой проблемы нет.\n   */\n  children: React.ReactElement<HasRootRef<any>> | React.ReactElement;\n  /**\n   * Если передан `false`, то рисуется просто `children`.\n   */\n  isShown?: boolean;\n  alignX?: 'center' | 'left' | 'right';\n  /**\n   * Положение по вертикали (расположение над или под `children`).\n   * Если не задано, позиция по вертикали определятся автоматически\n   */\n  alignY?: 'top' | 'bottom';\n  /**\n   * Сдвиг по горизонтали (относительно портала, в котором рисуется тултип).\n   */\n  offsetX?: number;\n  /**\n   * Сдвиг по вертикали (относительно портала, в котором рисуется тултип).\n   */\n  offsetY?: number;\n  /**\n   * Отображать ли стрелку, указывающую на якорный элемент\n   */\n  arrow?: boolean;\n  /**\n   * Безопасная зона вокруг стрелки, чтобы та не выходила за края контента.\n   */\n  arrowPadding?: number;\n  /**\n   * Сдвиг стрелочки относительно центра дочернего элемента.\n   */\n  cornerOffset?: number;\n  /**\n   * Сдвиг стрелочки относительно ширины тултипа\n   */\n  cornerAbsoluteOffset?: number;\n  /**\n   * Callback, который вызывается при клике по любому месту в пределах экрана.\n   */\n  onClose?: () => void;\n  /**\n   * По умолчанию компонент выберет наилучшее расположение сам. Но его можно задать извне с помощью этого свойства\n   */\n  placement?: PlacementWithAuto;\n}\n\nfunction mapAlignX(x: TooltipProps['alignX']) {\n  switch (x) {\n    case 'left':\n      return 'start';\n    case 'right':\n      return 'end';\n    default:\n      return '';\n  }\n}\nfunction getDefaultPlacement(\n  alignX: TooltipProps['alignX'],\n  alignY: TooltipProps['alignY'],\n): Placement {\n  return [alignY || 'bottom', mapAlignX(alignX || 'left')]\n    .filter((p) => !!p)\n    .join('-') as Placement;\n}\nfunction isVerticalPlacement(placement: PlacementWithAuto) {\n  return placement.startsWith('top') || placement.startsWith('bottom');\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/Tooltip\n */\nexport const Tooltip = ({\n  children,\n  isShown: isShownProp = true,\n  offsetX = 0,\n  offsetY = 15,\n  alignX,\n  alignY,\n  onClose,\n  cornerOffset = 0,\n  cornerAbsoluteOffset,\n  arrow = true,\n  arrowPadding = 14,\n  placement: placementProp,\n  maxWidth = TOOLTIP_MAX_WIDTH,\n  ...restProps\n}: TooltipProps) => {\n  const [arrowRef, setArrowRef] = React.useState<HTMLDivElement | null>(null);\n  const [target, setTarget] = React.useState<HTMLElement | null>(null);\n  /* eslint-disable no-restricted-properties */\n  const tooltipContainer = React.useMemo(\n    () => target?.closest<HTMLDivElement>(`[${tooltipContainerAttr}]`),\n    [target],\n  );\n  const { entering } = useNavTransition();\n  const isShown = isShownProp && tooltipContainer && !entering;\n\n  const placement = placementProp || getDefaultPlacement(alignX, alignY);\n  const isNotAutoPlacement = checkIsNotAutoPlacement(placement);\n\n  if (process.env.NODE_ENV === 'development') {\n    const multiChildren = React.Children.count(children) > 1;\n    // Empty children is a noop\n    const primitiveChild = hasReactNode(children) && typeof children !== 'object';\n    (multiChildren || primitiveChild) &&\n      warn(\n        [\n          'children должен быть одним React элементом, получено',\n          multiChildren && 'несколько',\n          primitiveChild && JSON.stringify(children),\n        ]\n          .filter(Boolean)\n          .join(' '),\n        'error',\n      );\n  }\n\n  const floatingPositionStrategy = React.useMemo(\n    () => (target?.style.position === 'fixed' ? 'fixed' : 'absolute'),\n    [target],\n  );\n\n  if (process.env.NODE_ENV === 'development' && target && !tooltipContainer) {\n    throw new Error('Use TooltipContainer for Tooltip outside Panel (see docs)');\n  }\n\n  const memoizedMiddlewares = React.useMemo(() => {\n    const middlewares: UseFloatingMiddleware[] = [\n      offsetMiddleware({\n        crossAxis: offsetX,\n        mainAxis: offsetY,\n      }),\n    ];\n\n    // см. https://floating-ui.com/docs/flip#conflict-with-autoplacement\n    if (isNotAutoPlacement) {\n      middlewares.push(flipMiddleware());\n    } else {\n      middlewares.push(\n        autoPlacementMiddleware({\n          alignment: placement ? getAutoPlacementAlign(placement) : null,\n        }),\n      );\n    }\n\n    middlewares.push(shiftMiddleware());\n\n    // см. https://floating-ui.com/docs/arrow#order\n    if (arrow) {\n      middlewares.push(\n        arrowMiddleware({\n          element: arrowRef,\n          padding: arrowPadding,\n        }),\n      );\n      middlewares.push({\n        name: 'arrowOffset',\n        fn({ placement, middlewareData }) {\n          if (!middlewareData.arrow) {\n            return Promise.resolve({});\n          }\n          if (isVerticalPlacement(placement)) {\n            if (cornerAbsoluteOffset !== undefined) {\n              middlewareData.arrow.x = cornerAbsoluteOffset;\n            } else if (middlewareData.arrow.x !== undefined) {\n              middlewareData.arrow.x += cornerOffset;\n            }\n          } else {\n            if (cornerAbsoluteOffset !== undefined) {\n              middlewareData.arrow.y = cornerAbsoluteOffset;\n            } else if (middlewareData.arrow.y !== undefined) {\n              middlewareData.arrow.y += cornerOffset;\n            }\n          }\n          return Promise.resolve({});\n        },\n      });\n    }\n\n    return middlewares;\n  }, [\n    arrow,\n    arrowRef,\n    arrowPadding,\n    cornerAbsoluteOffset,\n    cornerOffset,\n    offsetX,\n    offsetY,\n    placement,\n    isNotAutoPlacement,\n  ]);\n\n  const {\n    x: floatingDataX,\n    y: floatingDataY,\n    placement: resolvedPlacement,\n    refs,\n    middlewareData: { arrow: arrowCoords },\n  } = useFloating({\n    strategy: floatingPositionStrategy,\n    placement: isNotAutoPlacement ? placement : undefined,\n    middleware: memoizedMiddlewares,\n    whileElementsMounted: autoUpdateFloatingElement,\n  });\n\n  const childRef = isDOMTypeElement<React.HTMLAttributes<HTMLElement>, HTMLElement>(children)\n    ? children.ref\n    : React.isValidElement<HasRootRef<HTMLElement>>(children)\n    ? children.props.getRootRef\n    : null;\n  const patchedRef = useExternRef<HTMLElement>(setTarget, refs.setReference, childRef);\n  const child = React.isValidElement(children)\n    ? React.cloneElement(children, {\n        [isDOMTypeElement(children) ? 'ref' : 'getRootRef']: patchedRef,\n      })\n    : children;\n\n  return (\n    <React.Fragment>\n      {child}\n      {isShown &&\n        target != null &&\n        ReactDOM.createPortal(\n          <>\n            <TooltipBase\n              {...restProps}\n              getRootRef={refs.setFloating}\n              floatingStyle={convertFloatingDataToReactCSSProperties(\n                floatingPositionStrategy,\n                floatingDataX,\n                floatingDataY,\n              )}\n              withArrow={arrow}\n              arrowCoords={arrowCoords}\n              arrowPlacement={resolvedPlacement}\n              getArrowRef={setArrowRef}\n              maxWidth={maxWidth}\n            />\n            <div className={styles['Tooltip__overlay']} onClickCapture={onClose} />\n          </>,\n          tooltipContainer,\n        )}\n    </React.Fragment>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}