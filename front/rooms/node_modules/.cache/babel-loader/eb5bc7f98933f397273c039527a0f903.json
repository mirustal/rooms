{"ast":null,"code":"import { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport * as React from \"react\";\nimport { classNames, isPrimitiveReactNode } from \"@vkontakte/vkjs\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { Platform } from \"../../lib/platform\";\nimport { getTitleFromChildren } from \"../../lib/utils\";\nimport { warnOnce } from \"../../lib/warnOnce\";\nimport { Tappable } from \"../Tappable/Tappable\";\nimport { Text } from \"../Typography/Text/Text\";\nimport { Title } from \"../Typography/Title/Title\";\nvar platformClassNames = {\n  ios: \"vkuiPanelHeaderButton--ios\",\n  android: \"vkuiPanelHeaderButton--android\",\n  vkcom: \"vkuiPanelHeaderButton--vkcom\"\n};\nvar ButtonTypography = function (param) {\n  var primary = param.primary,\n    children = param.children;\n  var platform = usePlatform();\n  if (platform === Platform.IOS) {\n    return /*#__PURE__*/React.createElement(Title, {\n      Component: \"span\",\n      level: \"3\",\n      weight: primary ? \"1\" : \"3\"\n    }, children);\n  }\n  return /*#__PURE__*/React.createElement(Text, {\n    weight: platform === Platform.VKCOM ? undefined : \"2\"\n  }, children);\n};\nvar warn = warnOnce(\"PanelHeaderButton\");\n/**\n * @see https://vkcom.github.io/VKUI/#/PanelHeaderButton\n */\nexport var PanelHeaderButton = function (_param) {\n  var children = _param.children,\n    _param_primary = _param.primary,\n    primary = _param_primary === void 0 ? false : _param_primary,\n    label = _param.label,\n    className = _param.className,\n    restProps = _object_without_properties(_param, [\"children\", \"primary\", \"label\", \"className\"]);\n  var isPrimitive = isPrimitiveReactNode(children);\n  var isPrimitiveLabel = isPrimitiveReactNode(label);\n  var platform = usePlatform();\n  var hoverMode;\n  var activeMode;\n  switch (platform) {\n    case Platform.IOS:\n      hoverMode = \"background\";\n      activeMode = \"opacity\";\n      break;\n    case Platform.VKCOM:\n      hoverMode = \"vkuiPanelHeaderButton--hover\";\n      activeMode = \"vkuiPanelHeaderButton--active\";\n      break;\n    default:\n      hoverMode = \"background\";\n      activeMode = \"background\";\n  }\n  if (process.env.NODE_ENV === \"development\") {\n    var hasAccessibleName = Boolean(getTitleFromChildren(children) || getTitleFromChildren(label) || restProps[\"aria-label\"] || restProps[\"aria-labelledby\"]);\n    if (!hasAccessibleName) {\n      warn(\"a11y: У кнопки нет названия, которое может прочитать скринридер, и она недоступна для части пользователей. Замените содержимое на текст или добавьте описание действия с помощью пропа aria-label.\", \"error\");\n    }\n  }\n  return /*#__PURE__*/React.createElement(Tappable, _object_spread_props(_object_spread({\n    Component: restProps.href ? \"a\" : \"button\"\n  }, restProps), {\n    hoverMode: hoverMode,\n    activeEffectDelay: 200,\n    activeMode: activeMode,\n    className: classNames(\"vkuiInternalPanelHeaderButton\", \"vkuiPanelHeaderButton\", platformClassNames.hasOwnProperty(platform) ? platformClassNames[platform] : platformClassNames.android, isPrimitive && \"vkuiPanelHeaderButton--primitive\", !isPrimitive && !isPrimitiveLabel && \"vkuiPanelHeaderButton--notPrimitive\", className)\n  }), isPrimitive ? /*#__PURE__*/React.createElement(ButtonTypography, {\n    primary: primary\n  }, children) : children, isPrimitiveLabel ? /*#__PURE__*/React.createElement(ButtonTypography, {\n    primary: primary,\n    className: \"vkuiPanelHeaderButton__label\"\n  }, label) : label);\n};","map":{"version":3,"names":["React","classNames","isPrimitiveReactNode","usePlatform","Platform","getTitleFromChildren","warnOnce","Tappable","Text","Title","platformClassNames","ios","android","vkcom","ButtonTypography","param","primary","children","platform","IOS","createElement","Component","level","weight","VKCOM","undefined","warn","PanelHeaderButton","_param","_param_primary","label","className","restProps","_object_without_properties","isPrimitive","isPrimitiveLabel","hoverMode","activeMode","process","env","NODE_ENV","hasAccessibleName","Boolean","_object_spread_props","_object_spread","href","activeEffectDelay","hasOwnProperty"],"sources":["../../../src/components/PanelHeaderButton/PanelHeaderButton.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames, isPrimitiveReactNode } from '@vkontakte/vkjs';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { Platform } from '../../lib/platform';\nimport { getTitleFromChildren } from '../../lib/utils';\nimport { warnOnce } from '../../lib/warnOnce';\nimport { Tappable, TappableProps } from '../Tappable/Tappable';\nimport { Text } from '../Typography/Text/Text';\nimport { Title } from '../Typography/Title/Title';\nimport styles from './PanelHeaderButton.module.css';\n\nconst platformClassNames = {\n  ios: styles['PanelHeaderButton--ios'],\n  android: styles['PanelHeaderButton--android'],\n  vkcom: styles['PanelHeaderButton--vkcom'],\n};\n\nexport interface PanelHeaderButtonProps extends Omit<TappableProps, 'label'> {\n  primary?: boolean;\n  label?: React.ReactNode;\n}\n\ninterface ButtonTypographyProps extends React.AllHTMLAttributes<HTMLElement> {\n  primary?: PanelHeaderButtonProps['primary'];\n}\n\nconst ButtonTypography = ({ primary, children }: ButtonTypographyProps) => {\n  const platform = usePlatform();\n\n  if (platform === Platform.IOS) {\n    return (\n      <Title Component=\"span\" level=\"3\" weight={primary ? '1' : '3'}>\n        {children}\n      </Title>\n    );\n  }\n\n  return <Text weight={platform === Platform.VKCOM ? undefined : '2'}>{children}</Text>;\n};\n\nconst warn = warnOnce('PanelHeaderButton');\n\n/**\n * @see https://vkcom.github.io/VKUI/#/PanelHeaderButton\n */\nexport const PanelHeaderButton = ({\n  children,\n  primary = false,\n  label,\n  className,\n  ...restProps\n}: PanelHeaderButtonProps) => {\n  const isPrimitive = isPrimitiveReactNode(children);\n  const isPrimitiveLabel = isPrimitiveReactNode(label);\n  const platform = usePlatform();\n\n  let hoverMode;\n  let activeMode;\n\n  switch (platform) {\n    case Platform.IOS:\n      hoverMode = 'background';\n      activeMode = 'opacity';\n      break;\n    case Platform.VKCOM:\n      hoverMode = styles['PanelHeaderButton--hover'];\n      activeMode = styles['PanelHeaderButton--active'];\n      break;\n    default:\n      hoverMode = 'background';\n      activeMode = 'background';\n  }\n\n  if (process.env.NODE_ENV === 'development') {\n    const hasAccessibleName = Boolean(\n      getTitleFromChildren(children) ||\n        getTitleFromChildren(label) ||\n        restProps['aria-label'] ||\n        restProps['aria-labelledby'],\n    );\n\n    if (!hasAccessibleName) {\n      warn(\n        'a11y: У кнопки нет названия, которое может прочитать скринридер, и она недоступна для части пользователей. Замените содержимое на текст или добавьте описание действия с помощью пропа aria-label.',\n        'error',\n      );\n    }\n  }\n\n  return (\n    <Tappable\n      Component={restProps.href ? 'a' : 'button'}\n      {...restProps}\n      hoverMode={hoverMode}\n      activeEffectDelay={200}\n      activeMode={activeMode}\n      className={classNames(\n        'vkuiInternalPanelHeaderButton',\n        styles['PanelHeaderButton'],\n        platformClassNames.hasOwnProperty(platform)\n          ? platformClassNames[platform]\n          : platformClassNames.android,\n        isPrimitive && styles['PanelHeaderButton--primitive'],\n        !isPrimitive && !isPrimitiveLabel && styles['PanelHeaderButton--notPrimitive'],\n        className,\n      )}\n    >\n      {isPrimitive ? <ButtonTypography primary={primary}>{children}</ButtonTypography> : children}\n      {isPrimitiveLabel ? (\n        <ButtonTypography primary={primary} className={styles['PanelHeaderButton__label']}>\n          {label}\n        </ButtonTypography>\n      ) : (\n        label\n      )}\n    </Tappable>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}