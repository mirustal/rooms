{"ast":null,"code":"import * as React from \"react\";\nimport { useIsomorphicLayoutEffect } from \"../../lib/useIsomorphicLayoutEffect\";\nimport { ScrollContext } from \"../AppRoot/ScrollContext\";\n/**\n * @see https://vkcom.github.io/VKUI/#/ScrollSaver\n */\nexport var ScrollSaver = function (param) {\n  var children = param.children,\n    initialScroll = param.initialScroll,\n    saveScroll = param.saveScroll;\n  var _React_useContext = React.useContext(ScrollContext),\n    getScroll = _React_useContext.getScroll,\n    scrollTo = _React_useContext.scrollTo;\n  useIsomorphicLayoutEffect(function () {\n    if (typeof initialScroll === \"number\") {\n      scrollTo(0, initialScroll);\n    }\n    return function () {\n      return saveScroll(getScroll().y);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n};","map":{"version":3,"names":["React","useIsomorphicLayoutEffect","ScrollContext","ScrollSaver","param","children","initialScroll","saveScroll","_React_useContext","useContext","getScroll","scrollTo","y","createElement","Fragment"],"sources":["../../../src/components/Epic/ScrollSaver.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { HasChildren } from '../../types';\nimport { ScrollContext } from '../AppRoot/ScrollContext';\n\nexport interface ScrollSaverProps extends HasChildren {\n  initialScroll?: number;\n  saveScroll: (this: void, scroll: number) => any;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/ScrollSaver\n */\nexport const ScrollSaver = ({ children, initialScroll, saveScroll }: ScrollSaverProps) => {\n  const { getScroll, scrollTo } = React.useContext(ScrollContext);\n  useIsomorphicLayoutEffect(() => {\n    if (typeof initialScroll === 'number') {\n      scrollTo(0, initialScroll);\n    }\n    return () => saveScroll(getScroll().y);\n  }, []);\n  return <React.Fragment>{children}</React.Fragment>;\n};\n"],"mappings":"AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,yBAAyB,QAAQ;AAE1C,SAASC,aAAa,QAAQ;AAO9B;;;AAGA,OAAO,IAAMC,WAAA,GAAc,SAAAA,CAAAC,KAAA;MAAGC,QAAA,GAAAD,KAAA,CAAAC,QAAA;IAAUC,aAAA,GAAAF,KAAA,CAAAE,aAAA;IAAeC,UAAA,GAAAH,KAAA,CAAAG,UAAA;EACrD,IAAgCC,iBAAA,GAAAR,KAAA,CAAMS,UAAU,CAACP,aAAA;IAAzCQ,SAAA,GAAwBF,iBAAA,CAAxBE,SAAA;IAAWC,QAAA,GAAaH,iBAAA,CAAbG,QAAA;EACnBV,yBAAA,CAA0B;IACxB,IAAI,OAAOK,aAAA,KAAkB,UAAU;MACrCK,QAAA,CAAS,GAAGL,aAAA;IACd;IACA,OAAO;aAAMC,UAAA,CAAWG,SAAA,GAAYE,CAAC;;EACvC,GAAG,EAAE;EACL,oBAAOZ,KAAA,CAAAa,aAAA,CAACb,KAAA,CAAMc,QAAQ,QAAET,QAAA;AAC1B"},"metadata":{},"sourceType":"module"}