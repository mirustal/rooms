{"ast":null,"code":"import { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport * as React from \"react\";\nimport { Icon16Spinner, Icon24Spinner, Icon32Spinner, Icon44Spinner } from \"@vkontakte/icons\";\nimport { warnOnce } from \"../../lib/warnOnce\";\nimport { RootComponent } from \"../RootComponent/RootComponent\";\nimport { VisuallyHidden } from \"../VisuallyHidden/VisuallyHidden\";\nvar warn = warnOnce(\"Spinner\");\n/**\n * @see https://vkcom.github.io/VKUI/#/Spinner\n */\nexport var Spinner = /*#__PURE__*/React.memo(function (_param) {\n  var _param_size = _param.size,\n    size = _param_size === void 0 ? \"regular\" : _param_size,\n    _param_children = _param.children,\n    children = _param_children === void 0 ? \"Загружается...\" : _param_children,\n    tmp = _param[\n    // TODO [>=6]: Удалить автоматическое приведение aria-label\n    \"aria-label\"],\n    ariaLabel = tmp === void 0 ? \"Загружается...\" : tmp,\n    disableAnimation = _param.disableAnimation,\n    restProps = _object_without_properties(_param, [\"size\", \"children\", \"aria-label\", \"disableAnimation\"]);\n  var SpinnerIcon = {\n    small: Icon16Spinner,\n    regular: Icon24Spinner,\n    medium: Icon32Spinner,\n    large: Icon44Spinner\n  }[size];\n  var center = {\n    small: 8,\n    regular: 12,\n    medium: 16,\n    large: 22\n  }[size];\n  // TODO [>=6]: Удалить варнинг\n  if (process.env.NODE_ENV === \"development\") {\n    if (ariaLabel && !children) {\n      warn(\"a11y: Пожалуйста, передавайте ваш текст для ассистивных технологий в children вместо aria-label.\");\n    }\n  }\n  return /*#__PURE__*/React.createElement(RootComponent, _object_spread_props(_object_spread({\n    Component: \"span\",\n    role: \"status\"\n  }, restProps), {\n    baseClassName: \"vkuiSpinner\"\n  }), /*#__PURE__*/React.createElement(SpinnerIcon, null, !disableAnimation &&\n  // TODO [a11y]: use reduced motion hook?\n  //              https://github.com/VKCOM/VKUI/pull/4673\n  /*#__PURE__*/\n  React.createElement(\"animateTransform\", {\n    attributeName: \"transform\",\n    attributeType: \"XML\",\n    type: \"rotate\",\n    from: \"0 \".concat(center, \" \").concat(center),\n    to: \"360 \".concat(center, \" \").concat(center),\n    dur: \"0.7s\",\n    repeatCount: \"indefinite\"\n  })), /*#__PURE__*/React.createElement(VisuallyHidden, null, children !== null && children !== void 0 ? children : ariaLabel));\n});\nSpinner.displayName = \"Spinner\";","map":{"version":3,"names":["React","Icon16Spinner","Icon24Spinner","Icon32Spinner","Icon44Spinner","warnOnce","RootComponent","VisuallyHidden","warn","Spinner","memo","_param","size","_param_size","_param_children","children","tmp","ariaLabel","disableAnimation","restProps","_object_without_properties","SpinnerIcon","small","regular","medium","large","center","process","env","NODE_ENV","createElement","_object_spread_props","_object_spread","Component","role","baseClassName","attributeName","attributeType","type","from","concat","to","dur","repeatCount","displayName"],"sources":["../../../src/components/Spinner/Spinner.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Icon16Spinner, Icon24Spinner, Icon32Spinner, Icon44Spinner } from '@vkontakte/icons';\nimport { warnOnce } from '../../lib/warnOnce';\nimport { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './Spinner.module.css';\n\nexport interface SpinnerProps extends HTMLAttributesWithRootRef<HTMLSpanElement> {\n  size?: 'small' | 'regular' | 'medium' | 'large';\n  disableAnimation?: boolean;\n}\n\nconst warn = warnOnce('Spinner');\n/**\n * @see https://vkcom.github.io/VKUI/#/Spinner\n */\nexport const Spinner = React.memo(\n  ({\n    size = 'regular',\n    children = 'Загружается...',\n    // TODO [>=6]: Удалить автоматическое приведение aria-label\n    'aria-label': ariaLabel = 'Загружается...',\n    disableAnimation,\n    ...restProps\n  }: SpinnerProps) => {\n    const SpinnerIcon = {\n      small: Icon16Spinner,\n      regular: Icon24Spinner,\n      medium: Icon32Spinner,\n      large: Icon44Spinner,\n    }[size];\n\n    const center = {\n      small: 8,\n      regular: 12,\n      medium: 16,\n      large: 22,\n    }[size];\n\n    // TODO [>=6]: Удалить варнинг\n    if (process.env.NODE_ENV === 'development') {\n      if (ariaLabel && !children) {\n        warn(\n          'a11y: Пожалуйста, передавайте ваш текст для ассистивных технологий в children вместо aria-label.',\n        );\n      }\n    }\n\n    return (\n      <RootComponent\n        Component=\"span\"\n        role=\"status\"\n        {...restProps}\n        baseClassName={styles['Spinner']}\n      >\n        <SpinnerIcon>\n          {!disableAnimation && (\n            // TODO [a11y]: use reduced motion hook?\n            //              https://github.com/VKCOM/VKUI/pull/4673\n            <animateTransform\n              attributeName=\"transform\"\n              attributeType=\"XML\"\n              type=\"rotate\"\n              from={`0 ${center} ${center}`}\n              to={`360 ${center} ${center}`}\n              dur=\"0.7s\"\n              repeatCount=\"indefinite\"\n            />\n          )}\n        </SpinnerIcon>\n        <VisuallyHidden>{children ?? ariaLabel}</VisuallyHidden>\n      </RootComponent>\n    );\n  },\n);\n\nSpinner.displayName = 'Spinner';\n"],"mappings":";;;AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,aAAa,EAAEC,aAAa,EAAEC,aAAa,EAAEC,aAAa,QAAQ;AAC3E,SAASC,QAAQ,QAAQ;AAEzB,SAASC,aAAa,QAAQ;AAC9B,SAASC,cAAc,QAAQ;AAQ/B,IAAMC,IAAA,GAAOH,QAAA,CAAS;AACtB;;;AAGA,OAAO,IAAMI,OAAA,gBAAUT,KAAA,CAAMU,IAAI,CAC/B,UAAAC,MAAA;2BACEC,IAAA;IAAAA,IAAA,GAAAC,WAAA,cAAO,YAAAA,WAAA;IAAAC,eAAA,GAAAH,MAAA,CACPI,QAAA;IAAAA,QAAA,GAAAD,eAAA,cAAW,mBAAAA,eAAA;IAEGE,GAAA,GAAAL,MAAA;IADd;IACA;IAAcM,SAAA,GAAAD,GAAA,cAAY,mBAAZA,GAAA;IACdE,gBAAA,GAAAP,MAAA,CAAAO,gBAAA;IACGC,SAAA,GAAAC,0BAAA,CAAAT,MAAA,GALH,QACA,YAEA,cACA,mB;EAGA,IAAMU,WAAA,GAAc;IAClBC,KAAA,EAAOrB,aAAA;IACPsB,OAAA,EAASrB,aAAA;IACTsB,MAAA,EAAQrB,aAAA;IACRsB,KAAA,EAAOrB;EACT,CAAC,CAACQ,IAAA,CAAK;EAEP,IAAMc,MAAA,GAAS;IACbJ,KAAA,EAAO;IACPC,OAAA,EAAS;IACTC,MAAA,EAAQ;IACRC,KAAA,EAAO;EACT,CAAC,CAACb,IAAA,CAAK;EAEP;EACA,IAAIe,OAAA,CAAQC,GAAG,CAACC,QAAQ,KAAK,eAAe;IAC1C,IAAIZ,SAAA,IAAa,CAACF,QAAA,EAAU;MAC1BP,IAAA,CACE;IAEJ;EACF;EAEA,oBACER,KAAA,CAAA8B,aAAA,CAACxB,aAAA,EAAAyB,oBAAA,CAAAC,cAAA;IACCC,SAAA,EAAU;IACVC,IAAA,EAAK;KACDf,SAAA;IACJgB,aAAa;mBAEbnC,KAAA,CAAA8B,aAAA,CAACT,WAAA,QACE,CAACH,gBAAA;EACA;EACA;;EACAlB,KAAA,CAAA8B,aAAA,CAAC;IACCM,aAAA,EAAc;IACdC,aAAA,EAAc;IACdC,IAAA,EAAK;IACLC,IAAA,EAAM,IAAC,CAAcC,MAAA,CAAVd,MAAA,EAAO,KAAUc,MAAA,CAAPd,MAAA;IACrBe,EAAA,EAAI,MAAC,CAAgBD,MAAA,CAAVd,MAAA,EAAO,KAAUc,MAAA,CAAPd,MAAA;IACrBgB,GAAA,EAAI;IACJC,WAAA,EAAY;oBAIlB3C,KAAA,CAAA8B,aAAA,CAACvB,cAAA,QAAgBQ,QAAA,aAAAA,QAAA,cAAAA,QAAA,GAAYE,SAAA;AAGnC;AAGFR,OAAA,CAAQmC,WAAW,GAAG"},"metadata":{},"sourceType":"module"}