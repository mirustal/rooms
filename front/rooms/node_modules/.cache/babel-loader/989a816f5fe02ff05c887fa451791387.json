{"ast":null,"code":"var _jsxFileName = \"/Users/mirustal/Documents/project/rooms/front/rooms/src/components/views/Channels/AlterActionSheet.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from \"react\";\nimport { Icon28DeleteOutline, Icon28DoorArrowRightOutline, Icon28EditOutline, Icon28ShareOutline } from \"@vkontakte/icons\";\nimport { PanelHeaderContext, SimpleCell } from \"@vkontakte/vkui\";\nimport { getFromStorage, pushToStorage, shareInviteLink } from \"../../../bridge/bridgeLib\";\nimport { Locales } from \"../../../locales/locales\";\nimport { VkStorageKeys } from \"../../../bridge/storageKeys\";\nimport { AlertManagerContext, AreYouShureAlert } from \"../../contexts/AlertProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AlterActionSheet(_ref) {\n  _s();\n\n  let {\n    roomInfo,\n    returnBack,\n    handleActiveEditMode,\n    userIsAdmin,\n    deleteRoom,\n    contextOpened,\n    toggleContext\n  } = _ref;\n  const alertManager = useContext(AlertManagerContext);\n\n  const handleExitRoom = async () => {\n    function removeMember(members, userID) {\n      return members.filter(member => member.id !== userID);\n    }\n\n    alertManager.showAlert(AreYouShureAlert({\n      alertManager: alertManager,\n      onYes: async () => {\n        const idFromStorage = await getFromStorage(VkStorageKeys.JoinedRooms);\n        const updatedString = idFromStorage.replace(new RegExp(\",\" + roomInfo.id, 'g'), \"\");\n        pushToStorage(VkStorageKeys.JoinedRooms, updatedString);\n        returnBack();\n      },\n      yesTitle: Locales.Alerts.Exit,\n      noTitle: Locales.Alerts.Cancel,\n      title: Locales.Alerts.ConfirmExitRoomTitle\n    }));\n  };\n\n  const handleShareRoom = async () => {\n    await shareInviteLink(roomInfo.id);\n  };\n\n  return /*#__PURE__*/_jsxDEV(PanelHeaderContext, {\n    opened: contextOpened,\n    onClose: toggleContext,\n    children: [/*#__PURE__*/_jsxDEV(SimpleCell, {\n      before: /*#__PURE__*/_jsxDEV(Icon28ShareOutline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this),\n      onClick: handleShareRoom,\n      \"data-mode\": \"all\",\n      children: Locales.ActionSheetName.ShareRoom\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), userIsAdmin && /*#__PURE__*/_jsxDEV(SimpleCell, {\n      before: /*#__PURE__*/_jsxDEV(Icon28EditOutline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 19\n      }, this),\n      onClick: handleActiveEditMode,\n      \"data-mode\": \"all\",\n      children: Locales.ActionSheetName.EditRoom\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this), userIsAdmin ? /*#__PURE__*/_jsxDEV(SimpleCell, {\n      before: /*#__PURE__*/_jsxDEV(Icon28DeleteOutline, {\n        fill: \"red\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this),\n      onClick: () => alertManager.showAlert(AreYouShureAlert({\n        alertManager: alertManager,\n        onYes: deleteRoom,\n        yesTitle: Locales.Alerts.Delete,\n        noTitle: Locales.Alerts.Cancel,\n        title: Locales.Alerts.ConfirmDeleteRoomTitle\n      })),\n      \"data-mode\": \"all\",\n      children: Locales.ActionSheetName.DeleteRoom\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(SimpleCell, {\n      before: /*#__PURE__*/_jsxDEV(Icon28DoorArrowRightOutline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this),\n      onClick: handleExitRoom,\n      \"data-mode\": \"all\",\n      children: Locales.ActionSheetName.ExitRoom\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AlterActionSheet, \"+zO0i/Mvnlz76xEuZZvN1TeKnHY=\");\n\n_c = AlterActionSheet;\nexport default AlterActionSheet;\n\nvar _c;\n\n$RefreshReg$(_c, \"AlterActionSheet\");","map":{"version":3,"names":["React","useContext","Icon28DeleteOutline","Icon28DoorArrowRightOutline","Icon28EditOutline","Icon28ShareOutline","PanelHeaderContext","SimpleCell","getFromStorage","pushToStorage","shareInviteLink","Locales","VkStorageKeys","AlertManagerContext","AreYouShureAlert","AlterActionSheet","roomInfo","returnBack","handleActiveEditMode","userIsAdmin","deleteRoom","contextOpened","toggleContext","alertManager","handleExitRoom","removeMember","members","userID","filter","member","id","showAlert","onYes","idFromStorage","JoinedRooms","updatedString","replace","RegExp","yesTitle","Alerts","Exit","noTitle","Cancel","title","ConfirmExitRoomTitle","handleShareRoom","ActionSheetName","ShareRoom","EditRoom","Delete","ConfirmDeleteRoomTitle","DeleteRoom","ExitRoom"],"sources":["/Users/mirustal/Documents/project/rooms/front/rooms/src/components/views/Channels/AlterActionSheet.jsx"],"sourcesContent":["import React, { useContext } from \"react\";\nimport {\n  Icon28DeleteOutline,\n  Icon28DoorArrowRightOutline,\n  Icon28EditOutline,\n  Icon28ShareOutline,\n} from \"@vkontakte/icons\";\n\nimport { PanelHeaderContext, SimpleCell } from \"@vkontakte/vkui\";\nimport {\n  getFromStorage,\n  pushToStorage,\n  shareInviteLink,\n} from \"../../../bridge/bridgeLib\";\nimport { Locales } from \"../../../locales/locales\";\nimport { VkStorageKeys } from \"../../../bridge/storageKeys\";\nimport {\n  AlertManagerContext, AreYouShureAlert,\n} from \"../../contexts/AlertProvider\";\n\nfunction AlterActionSheet({ roomInfo, returnBack, handleActiveEditMode, userIsAdmin, deleteRoom, contextOpened, toggleContext }) {\n  const alertManager = useContext(AlertManagerContext);\n\n  const handleExitRoom = async () => {\n    function removeMember(members, userID) {\n      return members.filter(member => member.id !== userID);\n  }\n    alertManager.showAlert(AreYouShureAlert({alertManager: alertManager, onYes: async () => {\n      const idFromStorage = await getFromStorage(VkStorageKeys.JoinedRooms);\n      const updatedString = idFromStorage.replace(new RegExp(\",\" + roomInfo.id, 'g'), \"\");\n      pushToStorage(VkStorageKeys.JoinedRooms, updatedString);\n      returnBack();\n    }, yesTitle: Locales.Alerts.Exit, noTitle: Locales.Alerts.Cancel, title: Locales.Alerts.ConfirmExitRoomTitle}))\n  };\n\n  const handleShareRoom = async () => {\n    await shareInviteLink(roomInfo.id);\n  };\n\n  return (\n    <PanelHeaderContext opened={contextOpened} onClose={toggleContext}>\n      <SimpleCell\n        before={<Icon28ShareOutline />}\n        onClick={handleShareRoom}\n        data-mode=\"all\"\n      >\n        {Locales.ActionSheetName.ShareRoom}\n      </SimpleCell>\n      {userIsAdmin && (\n        <SimpleCell\n          before={<Icon28EditOutline />}\n          onClick={handleActiveEditMode}\n          data-mode=\"all\"\n        >\n          {Locales.ActionSheetName.EditRoom}\n        </SimpleCell>\n      )}\n      {\n        userIsAdmin ? (\n          <SimpleCell\n\n            before={<Icon28DeleteOutline  fill=\"red\"/>}\n            onClick={() => alertManager.showAlert(AreYouShureAlert({alertManager: alertManager, onYes: deleteRoom, yesTitle: Locales.Alerts.Delete, noTitle: Locales.Alerts.Cancel, title: Locales.Alerts.ConfirmDeleteRoomTitle}))}\n            data-mode=\"all\"\n          >\n            {Locales.ActionSheetName.DeleteRoom}\n          </SimpleCell>\n        ) : (\n          <SimpleCell\n            before={<Icon28DoorArrowRightOutline />}\n            onClick={handleExitRoom}\n            data-mode=\"all\"\n          >\n            {Locales.ActionSheetName.ExitRoom}\n          </SimpleCell>\n        )\n      }\n    </PanelHeaderContext>\n  )\n}\n\nexport default AlterActionSheet;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,SACEC,mBADF,EAEEC,2BAFF,EAGEC,iBAHF,EAIEC,kBAJF,QAKO,kBALP;AAOA,SAASC,kBAAT,EAA6BC,UAA7B,QAA+C,iBAA/C;AACA,SACEC,cADF,EAEEC,aAFF,EAGEC,eAHF,QAIO,2BAJP;AAKA,SAASC,OAAT,QAAwB,0BAAxB;AACA,SAASC,aAAT,QAA8B,6BAA9B;AACA,SACEC,mBADF,EACuBC,gBADvB,QAEO,8BAFP;;;AAIA,SAASC,gBAAT,OAAiI;EAAA;;EAAA,IAAvG;IAAEC,QAAF;IAAYC,UAAZ;IAAwBC,oBAAxB;IAA8CC,WAA9C;IAA2DC,UAA3D;IAAuEC,aAAvE;IAAsFC;EAAtF,CAAuG;EAC/H,MAAMC,YAAY,GAAGtB,UAAU,CAACY,mBAAD,CAA/B;;EAEA,MAAMW,cAAc,GAAG,YAAY;IACjC,SAASC,YAAT,CAAsBC,OAAtB,EAA+BC,MAA/B,EAAuC;MACrC,OAAOD,OAAO,CAACE,MAAR,CAAeC,MAAM,IAAIA,MAAM,CAACC,EAAP,KAAcH,MAAvC,CAAP;IACH;;IACCJ,YAAY,CAACQ,SAAb,CAAuBjB,gBAAgB,CAAC;MAACS,YAAY,EAAEA,YAAf;MAA6BS,KAAK,EAAE,YAAY;QACtF,MAAMC,aAAa,GAAG,MAAMzB,cAAc,CAACI,aAAa,CAACsB,WAAf,CAA1C;QACA,MAAMC,aAAa,GAAGF,aAAa,CAACG,OAAd,CAAsB,IAAIC,MAAJ,CAAW,MAAMrB,QAAQ,CAACc,EAA1B,EAA8B,GAA9B,CAAtB,EAA0D,EAA1D,CAAtB;QACArB,aAAa,CAACG,aAAa,CAACsB,WAAf,EAA4BC,aAA5B,CAAb;QACAlB,UAAU;MACX,CALuC;MAKrCqB,QAAQ,EAAE3B,OAAO,CAAC4B,MAAR,CAAeC,IALY;MAKNC,OAAO,EAAE9B,OAAO,CAAC4B,MAAR,CAAeG,MALlB;MAK0BC,KAAK,EAAEhC,OAAO,CAAC4B,MAAR,CAAeK;IALhD,CAAD,CAAvC;EAMD,CAVD;;EAYA,MAAMC,eAAe,GAAG,YAAY;IAClC,MAAMnC,eAAe,CAACM,QAAQ,CAACc,EAAV,CAArB;EACD,CAFD;;EAIA,oBACE,QAAC,kBAAD;IAAoB,MAAM,EAAET,aAA5B;IAA2C,OAAO,EAAEC,aAApD;IAAA,wBACE,QAAC,UAAD;MACE,MAAM,eAAE,QAAC,kBAAD;QAAA;QAAA;QAAA;MAAA,QADV;MAEE,OAAO,EAAEuB,eAFX;MAGE,aAAU,KAHZ;MAAA,UAKGlC,OAAO,CAACmC,eAAR,CAAwBC;IAL3B;MAAA;MAAA;MAAA;IAAA,QADF,EAQG5B,WAAW,iBACV,QAAC,UAAD;MACE,MAAM,eAAE,QAAC,iBAAD;QAAA;QAAA;QAAA;MAAA,QADV;MAEE,OAAO,EAAED,oBAFX;MAGE,aAAU,KAHZ;MAAA,UAKGP,OAAO,CAACmC,eAAR,CAAwBE;IAL3B;MAAA;MAAA;MAAA;IAAA,QATJ,EAkBI7B,WAAW,gBACT,QAAC,UAAD;MAEE,MAAM,eAAE,QAAC,mBAAD;QAAsB,IAAI,EAAC;MAA3B;QAAA;QAAA;QAAA;MAAA,QAFV;MAGE,OAAO,EAAE,MAAMI,YAAY,CAACQ,SAAb,CAAuBjB,gBAAgB,CAAC;QAACS,YAAY,EAAEA,YAAf;QAA6BS,KAAK,EAAEZ,UAApC;QAAgDkB,QAAQ,EAAE3B,OAAO,CAAC4B,MAAR,CAAeU,MAAzE;QAAiFR,OAAO,EAAE9B,OAAO,CAAC4B,MAAR,CAAeG,MAAzG;QAAiHC,KAAK,EAAEhC,OAAO,CAAC4B,MAAR,CAAeW;MAAvI,CAAD,CAAvC,CAHjB;MAIE,aAAU,KAJZ;MAAA,UAMGvC,OAAO,CAACmC,eAAR,CAAwBK;IAN3B;MAAA;MAAA;MAAA;IAAA,QADS,gBAUT,QAAC,UAAD;MACE,MAAM,eAAE,QAAC,2BAAD;QAAA;QAAA;QAAA;MAAA,QADV;MAEE,OAAO,EAAE3B,cAFX;MAGE,aAAU,KAHZ;MAAA,UAKGb,OAAO,CAACmC,eAAR,CAAwBM;IAL3B;MAAA;MAAA;MAAA;IAAA,QA5BN;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAwCD;;GA3DQrC,gB;;KAAAA,gB;AA6DT,eAAeA,gBAAf"},"metadata":{},"sourceType":"module"}