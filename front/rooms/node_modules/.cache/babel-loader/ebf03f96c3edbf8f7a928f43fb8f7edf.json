{"ast":null,"code":"import { deleteRoom, editChannel } from '../../../../serverApi/serverApi';\nexport const roomOperation = (roomManager, alerts) => ({\n  createChannel: function (channelName) {\n    const newRoom = roomManager.createChannel(channelName);\n    editChannel(newRoom).then(room => {\n      console.log(\"sucessful\");\n    }).catch(error => {\n      console.log(error);\n      alerts.showAlert(ErrorAlert({\n        message: Locales.Errors.FailedCreateRoom,\n        alertManager: alerts\n      }));\n    });\n  },\n  renameChannel: function (newNameChannel, renameChannelId) {\n    const updateRoom = roomManager.renameChannel(newNameChannel, renameChannelId);\n    editChannel(updateRoom).then(room => {}).catch(error => {\n      console.log(error);\n      alerts.showAlert(ErrorAlert({\n        message: Locales.Errors.FailedCreateRoom,\n        alertManager: alerts\n      }));\n    });\n  },\n  deleteChannel: function (delChannenlId) {\n    const updateRoom = roomManager.deleteChannel(delChannenlId);\n    editChannel(updateRoom).then(room => {\n      redrawRoom();\n    }).catch(error => {\n      console.log(error);\n      alerts.showAlert(ErrorAlert({\n        message: Locales.Errors.FailedCreateRoom,\n        alertManager: alerts\n      }));\n    });\n  },\n  refreshChannel: function (channelId) {\n    function refreshChannel(channels, channelId) {\n      let channel = channels.find(x => x.id == channelId);\n      if (channel) channel.joinlink = null;\n      return roomInfo;\n    }\n\n    const channelList = roomManager.refreshChannel(channelId);\n    editChannel().then(room => {\n      redrawRoom();\n    }).catch(error => {\n      console.log(error);\n      alerts.showAlert(ErrorAlert({\n        message: Locales.Errors.FailedCreateRoom,\n        alertManager: alerts\n      }));\n    });\n  },\n  deleteRoom: function (roomId, returnBack) {\n    deleteRoom(roomId).then(response => {\n      returnBack();\n    }).catch(error => {\n      console.log(error);\n      alerts.showAlert(ErrorAlert({\n        message: Locales.Errors.FailedCreateRoom,\n        alertManager: alerts\n      }));\n    });\n  }\n});","map":{"version":3,"names":["deleteRoom","editChannel","roomOperation","roomManager","alerts","createChannel","channelName","newRoom","then","room","console","log","catch","error","showAlert","ErrorAlert","message","Locales","Errors","FailedCreateRoom","alertManager","renameChannel","newNameChannel","renameChannelId","updateRoom","deleteChannel","delChannenlId","redrawRoom","refreshChannel","channelId","channels","channel","find","x","id","joinlink","roomInfo","channelList","roomId","returnBack","response"],"sources":["/Users/mirustal/Documents/project/rooms/front/rooms/src/components/views/Channels/utils/roomOperation.jsx"],"sourcesContent":["import { deleteRoom, editChannel } from '../../../../serverApi/serverApi';\n\nexport const roomOperation = (roomManager, alerts) => ({\n\n  createChannel: function (channelName) {\n    const newRoom = roomManager.createChannel(channelName)\n    editChannel(newRoom)\n      .then((room) => {\n        console.log(\"sucessful\")\n      })\n      .catch((error) => {\n        console.log(error)\n        alerts.showAlert(\n          ErrorAlert({\n            message: Locales.Errors.FailedCreateRoom,\n            alertManager: alerts,\n          })\n        );\n      });\n  },\n\n  renameChannel: function (newNameChannel, renameChannelId) {\n    const updateRoom = roomManager.renameChannel(newNameChannel, renameChannelId)\n    editChannel(updateRoom)\n      .then((room) => {\n      })\n      .catch((error) => {\n        console.log(error)\n        alerts.showAlert(\n          ErrorAlert({\n            message: Locales.Errors.FailedCreateRoom,\n            alertManager: alerts,\n          })\n        );\n      });\n  },\n\n  deleteChannel: function (delChannenlId) {\n    const updateRoom = roomManager.deleteChannel(delChannenlId)\n    editChannel(updateRoom)\n      .then((room) => {\n        redrawRoom()\n      })\n      .catch((error) => {\n        console.log(error)\n        alerts.showAlert(\n          ErrorAlert({\n            message: Locales.Errors.FailedCreateRoom,\n            alertManager: alerts,\n          })\n        );\n      });\n  },\n\n  refreshChannel: function (channelId) {\n    function refreshChannel(channels, channelId) {\n      let channel = channels.find(x => x.id == channelId)\n      if (channel) channel.joinlink = null\n      return roomInfo\n    }\n    const channelList = roomManager.refreshChannel(channelId)\n    editChannel()\n      .then((room) => {\n        redrawRoom()\n      })\n      .catch((error) => {\n        console.log(error)\n        alerts.showAlert(\n          ErrorAlert({\n            message: Locales.Errors.FailedCreateRoom,\n            alertManager: alerts,\n          })\n        );\n      });\n  },\n\n  deleteRoom: function(roomId, returnBack) {\n  deleteRoom(roomId)\n    .then((response) => {\n      returnBack(); \n    })\n    .catch((error) => {\n      console.log(error);\n      alerts.showAlert(\n        ErrorAlert({\n          message: Locales.Errors.FailedCreateRoom, \n          alertManager: alerts,\n        })\n      );\n    }); \n},\n\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}