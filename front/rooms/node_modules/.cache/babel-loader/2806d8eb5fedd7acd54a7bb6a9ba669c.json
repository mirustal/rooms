{"ast":null,"code":"import _objectSpread from\"/Users/mirustal/Documents/project/rooms/front/rooms/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/mirustal/Documents/project/rooms/front/rooms/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Views}from\"../model/views\";import{Root}from\"@vkontakte/vkui\";import Rooms from\"./views/Rooms/Rooms\";import Channels from\"./views/Channels/Channels\";import{useEffect,useState}from\"react\";import{joinRoomOnStart,showAd}from\"../bridge/bridgeLib\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Main(){var _useState=useState(Views.Servers.id),_useState2=_slicedToArray(_useState,2),activeView=_useState2[0],setActiveView=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),activeRoomInfo=_useState4[0],setRoomInfo=_useState4[1];var enterRoom=function enterRoom(roomInfo){showAd();setRoomInfo(roomInfo);setActiveView(Views.Rooms.id);};var refreshRoom=function refreshRoom(){var newRoom=_objectSpread({},activeRoomInfo);setRoomInfo(newRoom);};useEffect(function(){if(joinRoomOnStart!==undefined)enterRoom(joinRoomOnStart);},[]);return/*#__PURE__*/_jsxs(Root,{activeView:activeView,children:[/*#__PURE__*/_jsx(Rooms,{id:Views.Servers.id,enterRoom:enterRoom}),/*#__PURE__*/_jsx(Channels,{id:Views.Rooms.id,roomInfo:activeRoomInfo,returnBack:function returnBack(){return setActiveView(Views.Servers.id);},redrawRoom:refreshRoom})]});}","map":{"version":3,"names":["Views","Root","Rooms","Channels","useEffect","useState","joinRoomOnStart","showAd","Main","Servers","id","activeView","setActiveView","activeRoomInfo","setRoomInfo","enterRoom","roomInfo","refreshRoom","newRoom","undefined"],"sources":["/Users/mirustal/Documents/project/rooms/front/rooms/src/components/Main.jsx"],"sourcesContent":["import { Views } from \"../model/views\";\nimport { Root } from \"@vkontakte/vkui\";\nimport Rooms from \"./views/Rooms/Rooms\";\nimport Channels from \"./views/Channels/Channels\";\nimport { useEffect, useState } from \"react\";\nimport {joinRoomOnStart, showAd } from \"../bridge/bridgeLib\";\n\n\n\n\nexport default function Main() {\n  const [activeView, setActiveView] = useState(Views.Servers.id);\n  const [activeRoomInfo, setRoomInfo] = useState(null);\n\n\n\n  const enterRoom = function (roomInfo) {\n    showAd();\n    setRoomInfo(roomInfo);\n    setActiveView(Views.Rooms.id);\n  };\n\n  const refreshRoom = function () {\n    let newRoom = {...activeRoomInfo}\n    setRoomInfo(newRoom)\n  }\n\n  useEffect(() => {\n    if (joinRoomOnStart !== undefined)\n      enterRoom(joinRoomOnStart)\n  }, []);\n\n  return (\n    <Root activeView={activeView}>\n      <Rooms id={Views.Servers.id} enterRoom={enterRoom}/>\n      <Channels\n        id={Views.Rooms.id}\n        roomInfo={activeRoomInfo}\n        returnBack={() => setActiveView(Views.Servers.id)}\n        redrawRoom={refreshRoom}\n      />\n    </Root>\n  );\n}\n"],"mappings":"iRAAA,OAASA,KAAT,KAAsB,gBAAtB,CACA,OAASC,IAAT,KAAqB,iBAArB,CACA,MAAOC,MAAP,KAAkB,qBAAlB,CACA,MAAOC,SAAP,KAAqB,2BAArB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAAQC,eAAR,CAAyBC,MAAzB,KAAuC,qBAAvC,C,wFAKA,cAAe,SAASC,KAAT,EAAgB,CAC7B,cAAoCH,QAAQ,CAACL,KAAK,CAACS,OAAN,CAAcC,EAAf,CAA5C,wCAAOC,UAAP,eAAmBC,aAAnB,eACA,eAAsCP,QAAQ,CAAC,IAAD,CAA9C,yCAAOQ,cAAP,eAAuBC,WAAvB,eAIA,GAAMC,UAAS,CAAG,QAAZA,UAAY,CAAUC,QAAV,CAAoB,CACpCT,MAAM,GACNO,WAAW,CAACE,QAAD,CAAX,CACAJ,aAAa,CAACZ,KAAK,CAACE,KAAN,CAAYQ,EAAb,CAAb,CACD,CAJD,CAMA,GAAMO,YAAW,CAAG,QAAdA,YAAc,EAAY,CAC9B,GAAIC,QAAO,kBAAOL,cAAP,CAAX,CACAC,WAAW,CAACI,OAAD,CAAX,CACD,CAHD,CAKAd,SAAS,CAAC,UAAM,CACd,GAAIE,eAAe,GAAKa,SAAxB,CACEJ,SAAS,CAACT,eAAD,CAAT,CACH,CAHQ,CAGN,EAHM,CAAT,CAKA,mBACE,MAAC,IAAD,EAAM,UAAU,CAAEK,UAAlB,wBACE,KAAC,KAAD,EAAO,EAAE,CAAEX,KAAK,CAACS,OAAN,CAAcC,EAAzB,CAA6B,SAAS,CAAEK,SAAxC,EADF,cAEE,KAAC,QAAD,EACE,EAAE,CAAEf,KAAK,CAACE,KAAN,CAAYQ,EADlB,CAEE,QAAQ,CAAEG,cAFZ,CAGE,UAAU,CAAE,4BAAMD,cAAa,CAACZ,KAAK,CAACS,OAAN,CAAcC,EAAf,CAAnB,EAHd,CAIE,UAAU,CAAEO,WAJd,EAFF,GADF,CAWD"},"metadata":{},"sourceType":"module"}