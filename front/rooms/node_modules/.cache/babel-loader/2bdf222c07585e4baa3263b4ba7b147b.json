{"ast":null,"code":"import { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport * as React from \"react\";\nimport { callMultiple } from \"../../lib/callMultiple\";\nimport { stopPropagation } from \"../../lib/utils\";\nimport { RootComponent } from \"../RootComponent/RootComponent\";\nvar MASK_SYMBOL = String.fromCharCode(0x2007);\nfunction getMaskElements(length) {\n  var result = [];\n  for (var index = 0; index < length; index += 1) {\n    result.push( /*#__PURE__*/React.createElement(\"span\", {\n      key: index,\n      className: \"vkuiInputLike__mask\"\n    }, MASK_SYMBOL));\n  }\n  return result;\n}\nexport var InputLike = function (_param) {\n  var value = _param.value,\n    length = _param.length,\n    index = _param.index,\n    onElementSelect = _param.onElementSelect,\n    onClick = _param.onClick,\n    onFocus = _param.onFocus,\n    props = _object_without_properties(_param, [\"value\", \"length\", \"index\", \"onElementSelect\", \"onClick\", \"onFocus\"]);\n  var handleElementSelect = React.useCallback(function (event) {\n    stopPropagation(event);\n    onElementSelect === null || onElementSelect === void 0 ? void 0 : onElementSelect(index);\n  }, [index, onElementSelect]);\n  var _value_length;\n  return /*#__PURE__*/React.createElement(RootComponent, _object_spread({\n    Component: \"span\",\n    baseClassName: (value === null || value === void 0 ? void 0 : value.length) === length ? \"vkuiInputLike--full\" : undefined,\n    tabIndex: 0,\n    onClick: callMultiple(onClick, handleElementSelect),\n    onFocus: callMultiple(stopPropagation, onFocus)\n  }, props), value === null || value === void 0 ? void 0 : value.slice(0, length - 1), (value === null || value === void 0 ? void 0 : value.slice(length - 1)) && /*#__PURE__*/React.createElement(\"span\", {\n    key: index,\n    className: \"vkuiInputLike__last_character\"\n  }, value.slice(length - 1)), getMaskElements(length - ((_value_length = value === null || value === void 0 ? void 0 : value.length) !== null && _value_length !== void 0 ? _value_length : 0)));\n};\nInputLike.displayName = \"InputLike\";","map":{"version":3,"names":["React","callMultiple","stopPropagation","RootComponent","MASK_SYMBOL","String","fromCharCode","getMaskElements","length","result","index","push","createElement","key","className","InputLike","_param","value","onElementSelect","onClick","onFocus","props","_object_without_properties","handleElementSelect","useCallback","event","_value_length","_object_spread","Component","baseClassName","undefined","tabIndex","slice","displayName"],"sources":["../../../src/components/InputLike/InputLike.tsx"],"sourcesContent":["import * as React from 'react';\nimport { callMultiple } from '../../lib/callMultiple';\nimport { stopPropagation } from '../../lib/utils';\nimport { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './InputLike.module.css';\n\nexport interface InputLikeProps extends HTMLAttributesWithRootRef<HTMLSpanElement> {\n  length: number;\n  index: number;\n  value?: string;\n  onElementSelect?(index: number): void;\n}\n\nconst MASK_SYMBOL = String.fromCharCode(0x2007);\n\nfunction getMaskElements(length: number) {\n  const result = [];\n  for (let index = 0; index < length; index += 1) {\n    result.push(\n      <span key={index} className={styles['InputLike__mask']}>\n        {MASK_SYMBOL}\n      </span>,\n    );\n  }\n  return result;\n}\n\nexport const InputLike = ({\n  value,\n  length,\n  index,\n  onElementSelect,\n  onClick,\n  onFocus,\n  ...props\n}: InputLikeProps) => {\n  const handleElementSelect = React.useCallback(\n    (event: React.MouseEvent<HTMLSpanElement>) => {\n      stopPropagation(event);\n      onElementSelect?.(index);\n    },\n    [index, onElementSelect],\n  );\n\n  return (\n    <RootComponent\n      Component=\"span\"\n      baseClassName={value?.length === length ? styles['InputLike--full'] : undefined}\n      tabIndex={0}\n      onClick={callMultiple(onClick, handleElementSelect)}\n      onFocus={callMultiple(stopPropagation, onFocus)}\n      {...props}\n    >\n      {value?.slice(0, length - 1)}\n      {value?.slice(length - 1) && (\n        <span key={index} className={styles['InputLike__last_character']}>\n          {value.slice(length - 1)}\n        </span>\n      )}\n      {getMaskElements(length - (value?.length ?? 0))}\n    </RootComponent>\n  );\n};\n\nInputLike.displayName = 'InputLike';\n"],"mappings":";;AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,YAAY,QAAQ;AAC7B,SAASC,eAAe,QAAQ;AAEhC,SAASC,aAAa,QAAQ;AAU9B,IAAMC,WAAA,GAAcC,MAAA,CAAOC,YAAY,CAAC;AAExC,SAASC,gBAAgBC,MAAc;EACrC,IAAMC,MAAA,GAAS,EAAE;EACjB,KAAK,IAAIC,KAAA,GAAQ,GAAGA,KAAA,GAAQF,MAAA,EAAQE,KAAA,IAAS,GAAG;IAC9CD,MAAA,CAAOE,IAAI,eACTX,KAAA,CAAAY,aAAA,CAAC;MAAKC,GAAA,EAAKH,KAAA;MAAOI,SAAS;OACxBV,WAAA;EAGP;EACA,OAAOK,MAAA;AACT;AAEA,OAAO,IAAMM,SAAA,GAAY,SAAAA,CAAAC,MAAA;MACvBC,KAAA,GAAAD,MAAA,CAAAC,KAAA;IACAT,MAAA,GAAAQ,MAAA,CAAAR,MAAA;IACAE,KAAA,GAAAM,MAAA,CAAAN,KAAA;IACAQ,eAAA,GAAAF,MAAA,CAAAE,eAAA;IACAC,OAAA,GAAAH,MAAA,CAAAG,OAAA;IACAC,OAAA,GAAAJ,MAAA,CAAAI,OAAA;IACGC,KAAA,GAAAC,0BAAA,CAAAN,MAAA,GANH,SACA,UACA,SACA,mBACA,WACA,U;EAGA,IAAMO,mBAAA,GAAsBvB,KAAA,CAAMwB,WAAW,CAC3C,UAACC,KAAA;IACCvB,eAAA,CAAgBuB,KAAA;IAChBP,eAAA,aAAAA,eAAA,uBAAAA,eAAA,CAAkBR,KAAA;EACpB,GACA,CAACA,KAAA,EAAOQ,eAAA,CAAgB;MAkBKQ,aAAA;EAf/B,oBACE1B,KAAA,CAAAY,aAAA,CAACT,aAAA,EAAAwB,cAAA;IACCC,SAAA,EAAU;IACVC,aAAA,EAAe,CAAAZ,KAAA,aAAAA,KAAA,uBAAAA,KAAA,CAAOT,MAAM,MAAKA,MAAA,2BAAqCsB,SAAA;IACtEC,QAAA,EAAU;IACVZ,OAAA,EAASlB,YAAA,CAAakB,OAAA,EAASI,mBAAA;IAC/BH,OAAA,EAASnB,YAAA,CAAaC,eAAA,EAAiBkB,OAAA;KACnCC,KAAA,GAEHJ,KAAA,aAAAA,KAAA,uBAAAA,KAAA,CAAOe,KAAK,CAAC,GAAGxB,MAAA,GAAS,IACzB,CAAAS,KAAA,aAAAA,KAAA,uBAAAA,KAAA,CAAOe,KAAK,CAACxB,MAAA,GAAS,oBACrBR,KAAA,CAAAY,aAAA,CAAC;IAAKC,GAAA,EAAKH,KAAA;IAAOI,SAAS;KACxBG,KAAA,CAAMe,KAAK,CAACxB,MAAA,GAAS,KAGzBD,eAAA,CAAgBC,MAAA,IAAU,CAAAkB,aAAA,GAAAT,KAAA,aAAAA,KAAA,uBAAAA,KAAA,CAAOT,MAAM,cAAbkB,aAAA,cAAAA,aAAA,GAAiB;AAGlD;AAEAX,SAAA,CAAUkB,WAAW,GAAG"},"metadata":{},"sourceType":"module"}