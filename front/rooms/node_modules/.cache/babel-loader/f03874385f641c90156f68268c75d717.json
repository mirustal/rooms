{"ast":null,"code":"import { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport { _ as _sliced_to_array } from \"@swc/helpers/_/_sliced_to_array\";\nimport * as React from \"react\";\nimport { classNames } from \"@vkontakte/vkjs\";\nimport { useAdaptivity } from \"../../hooks/useAdaptivity\";\nimport { useExternRef } from \"../../hooks/useExternRef\";\nimport { useMediaQueries } from \"../../hooks/useMediaQueries\";\nimport { useObjectMemo } from \"../../hooks/useObjectMemo\";\nimport { ViewWidth, viewWidthToClassName } from \"../../lib/adaptivity\";\nimport { matchMediaListAddListener, matchMediaListRemoveListener } from \"../../lib/matchMedia\";\nimport { warnOnce } from \"../../lib/warnOnce\";\nimport { RootComponent } from \"../RootComponent/RootComponent\";\nimport { SplitColContext } from \"./SplitColContext\";\nvar breakpointClassNames = {\n  none: classNames(\"vkuiSplitCol--viewWidth-none\", \"vkuiInternalSplitCol--viewWidth-none\"),\n  tabletMinus: \"vkuiSplitCol--viewWidth-tabletMinus\",\n  smallTabletPlus: \"vkuiSplitCol--viewWidth-smallTabletPlus\",\n  tabletPlus: \"vkuiInternalSplitCol--viewWidth-tabletPlus\"\n};\nfunction useTransitionAnimate(animateProp) {\n  var viewWidth = useAdaptivity().viewWidth;\n  var _React_useState = _sliced_to_array(React.useState(Boolean(animateProp)), 2),\n    animate = _React_useState[0],\n    setAnimate = _React_useState[1];\n  var mediaQueries = useMediaQueries();\n  React.useEffect(function () {\n    if (animateProp !== undefined) {\n      setAnimate(animateProp);\n      return;\n    }\n    if (viewWidth !== undefined) {\n      setAnimate(viewWidth < ViewWidth.TABLET);\n      return;\n    }\n    // eslint-disable-next-line no-restricted-properties\n    var listener = function () {\n      return setAnimate(!mediaQueries.smallTabletPlus.matches);\n    };\n    listener();\n    matchMediaListAddListener(mediaQueries.smallTabletPlus, listener);\n    return function () {\n      matchMediaListRemoveListener(mediaQueries.smallTabletPlus, listener);\n    };\n  }, [animateProp, viewWidth, mediaQueries]);\n  return animate;\n}\nvar warn = warnOnce(\"SplitCol\");\n/**\n * @see https://vkcom.github.io/VKUI/#/SplitCol\n */\nexport var SplitCol = function (props) {\n  var children = props.children,\n    width = props.width,\n    maxWidth = props.maxWidth,\n    minWidth = props.minWidth,\n    spaced = props.spaced,\n    animateProp = props.animate,\n    fixed = props.fixed,\n    style = props.style,\n    autoSpaced = props.autoSpaced,\n    stretchedOnMobile = props.stretchedOnMobile,\n    getRootRef = props.getRootRef,\n    restProps = _object_without_properties(props, [\"children\", \"width\", \"maxWidth\", \"minWidth\", \"spaced\", \"animate\", \"fixed\", \"style\", \"autoSpaced\", \"stretchedOnMobile\", \"getRootRef\"]);\n  var baseRef = useExternRef(getRootRef);\n  var viewWidth = useAdaptivity().viewWidth;\n  var animate = useTransitionAnimate(animateProp);\n  var contextValue = useObjectMemo({\n    colRef: baseRef,\n    animate: animate\n  });\n  if (process.env.NODE_ENV === \"development\" && spaced !== undefined) {\n    // TODO [>=6]: Удалить spaced\n    warn(\"Свойство spaced устарело и будет удалено в v6. Используйте autoSpaced\");\n  }\n  return /*#__PURE__*/React.createElement(RootComponent, _object_spread_props(_object_spread({}, restProps), {\n    style: _object_spread_props(_object_spread({}, style), {\n      width: width,\n      maxWidth: maxWidth,\n      minWidth: minWidth\n    }),\n    getRootRef: baseRef,\n    baseClassName: classNames(\"vkuiSplitCol\", viewWidthToClassName(breakpointClassNames, viewWidth), spaced && classNames(\"vkuiSplitCol--spaced\", \"vkuiInternalSplitCol--spaced\"), spaced === undefined && classNames(\"vkuiSplitCol--spaced-none\", \"vkuiInternalSplitCol--spaced-none\"), autoSpaced && classNames(\"vkuiSplitCol--spaced-auto\", \"vkuiInternalSplitCol--spaced-auto\"), fixed && \"vkuiSplitCol--fixed\", stretchedOnMobile && \"vkuiSplitCol--stretched-on-mobile\")\n  }), /*#__PURE__*/React.createElement(SplitColContext.Provider, {\n    value: contextValue\n  }, fixed ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiSplitCol__fixedInner\"\n  }, children) : children));\n};","map":{"version":3,"names":["React","classNames","useAdaptivity","useExternRef","useMediaQueries","useObjectMemo","ViewWidth","viewWidthToClassName","matchMediaListAddListener","matchMediaListRemoveListener","warnOnce","RootComponent","SplitColContext","breakpointClassNames","none","tabletMinus","smallTabletPlus","tabletPlus","useTransitionAnimate","animateProp","viewWidth","_React_useState","_sliced_to_array","useState","Boolean","animate","setAnimate","mediaQueries","useEffect","undefined","TABLET","listener","matches","warn","SplitCol","props","children","width","maxWidth","minWidth","spaced","fixed","style","autoSpaced","stretchedOnMobile","getRootRef","restProps","_object_without_properties","baseRef","contextValue","colRef","process","env","NODE_ENV","createElement","_object_spread_props","_object_spread","baseClassName","Provider","value","className"],"sources":["../../../src/components/SplitCol/SplitCol.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useMediaQueries } from '../../hooks/useMediaQueries';\nimport { useObjectMemo } from '../../hooks/useObjectMemo';\nimport { ViewWidth, viewWidthToClassName } from '../../lib/adaptivity';\nimport { matchMediaListAddListener, matchMediaListRemoveListener } from '../../lib/matchMedia';\nimport { warnOnce } from '../../lib/warnOnce';\nimport { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { SplitColContext } from './SplitColContext';\nimport styles from './SplitCol.module.css';\n\nconst breakpointClassNames = {\n  none: classNames(styles['SplitCol--viewWidth-none'], 'vkuiInternalSplitCol--viewWidth-none'),\n  tabletMinus: styles['SplitCol--viewWidth-tabletMinus'],\n  smallTabletPlus: styles['SplitCol--viewWidth-smallTabletPlus'],\n  tabletPlus: 'vkuiInternalSplitCol--viewWidth-tabletPlus',\n};\n\nfunction useTransitionAnimate(animateProp?: boolean) {\n  const { viewWidth } = useAdaptivity();\n  const [animate, setAnimate] = React.useState(Boolean(animateProp));\n  const mediaQueries = useMediaQueries();\n\n  React.useEffect(() => {\n    if (animateProp !== undefined) {\n      setAnimate(animateProp);\n      return;\n    }\n\n    if (viewWidth !== undefined) {\n      setAnimate(viewWidth < ViewWidth.TABLET);\n      return;\n    }\n\n    // eslint-disable-next-line no-restricted-properties\n    const listener = () => setAnimate(!mediaQueries.smallTabletPlus.matches);\n    listener();\n\n    matchMediaListAddListener(mediaQueries.smallTabletPlus, listener);\n    return () => {\n      matchMediaListRemoveListener(mediaQueries.smallTabletPlus, listener);\n    };\n  }, [animateProp, viewWidth, mediaQueries]);\n\n  return animate;\n}\n\nexport interface SplitColProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  width?: number | string;\n  maxWidth?: number | string;\n  minWidth?: number | string;\n  /**\n   * Если false, то переходы между Panel происходят без анимации\n   */\n  animate?: boolean;\n  /**\n   * Если true, то добавляются боковые отступы фиксированной величины\n   *\n   * @deprecated используйте autoSpaced\n   */\n  spaced?: boolean;\n  /**\n   * Если true, то добавляются боковые отступы фиксированной величины при ширине больше чем `smallTablet`\n   */\n  autoSpaced?: boolean;\n  fixed?: boolean;\n  /**\n   * Если true, то ширина контейнера становится 100% при ширине меньше чем `tablet`\n   */\n  stretchedOnMobile?: boolean;\n}\n\nconst warn = warnOnce('SplitCol');\n\n/**\n * @see https://vkcom.github.io/VKUI/#/SplitCol\n */\nexport const SplitCol = (props: SplitColProps) => {\n  const {\n    children,\n    width,\n    maxWidth,\n    minWidth,\n    spaced,\n    animate: animateProp,\n    fixed,\n    style,\n    autoSpaced,\n    stretchedOnMobile,\n    getRootRef,\n    ...restProps\n  } = props;\n  const baseRef = useExternRef(getRootRef);\n  const { viewWidth } = useAdaptivity();\n  const animate = useTransitionAnimate(animateProp);\n\n  const contextValue = useObjectMemo({\n    colRef: baseRef,\n    animate,\n  });\n\n  if (process.env.NODE_ENV === 'development' && spaced !== undefined) {\n    // TODO [>=6]: Удалить spaced\n    warn('Свойство spaced устарело и будет удалено в v6. Используйте autoSpaced');\n  }\n\n  return (\n    <RootComponent\n      {...restProps}\n      style={{\n        ...style,\n        width: width,\n        maxWidth: maxWidth,\n        minWidth: minWidth,\n      }}\n      getRootRef={baseRef}\n      baseClassName={classNames(\n        styles['SplitCol'],\n        viewWidthToClassName(breakpointClassNames, viewWidth),\n        spaced && classNames(styles['SplitCol--spaced'], 'vkuiInternalSplitCol--spaced'),\n        spaced === undefined &&\n          classNames(styles['SplitCol--spaced-none'], 'vkuiInternalSplitCol--spaced-none'),\n        autoSpaced &&\n          classNames(styles['SplitCol--spaced-auto'], 'vkuiInternalSplitCol--spaced-auto'),\n        fixed && styles['SplitCol--fixed'],\n        stretchedOnMobile && styles['SplitCol--stretched-on-mobile'],\n      )}\n    >\n      <SplitColContext.Provider value={contextValue}>\n        {fixed ? <div className={styles['SplitCol__fixedInner']}>{children}</div> : children}\n      </SplitColContext.Provider>\n    </RootComponent>\n  );\n};\n"],"mappings":";;;;AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,UAAU,QAAQ;AAC3B,SAASC,aAAa,QAAQ;AAC9B,SAASC,YAAY,QAAQ;AAC7B,SAASC,eAAe,QAAQ;AAChC,SAASC,aAAa,QAAQ;AAC9B,SAASC,SAAS,EAAEC,oBAAoB,QAAQ;AAChD,SAASC,yBAAyB,EAAEC,4BAA4B,QAAQ;AACxE,SAASC,QAAQ,QAAQ;AAEzB,SAASC,aAAa,QAAQ;AAC9B,SAASC,eAAe,QAAQ;AAGhC,IAAMC,oBAAA,GAAuB;EAC3BC,IAAA,EAAMb,UAAA,iCAA+C;EACrDc,WAAW;EACXC,eAAe;EACfC,UAAA,EAAY;AACd;AAEA,SAASC,qBAAqBC,WAAqB;EACjD,IAAMC,SAAE,GAAclB,aAAA,GAAdkB,SAAA;EACR,IAA8BC,eAAA,GAAAC,gBAAA,CAAAtB,KAAA,CAAMuB,QAAQ,CAACC,OAAA,CAAQL,WAAA;IAA9CM,OAAA,GAAuBJ,eAAA;IAAdK,UAAA,GAAcL,eAAA;EAC9B,IAAMM,YAAA,GAAevB,eAAA;EAErBJ,KAAA,CAAM4B,SAAS,CAAC;IACd,IAAIT,WAAA,KAAgBU,SAAA,EAAW;MAC7BH,UAAA,CAAWP,WAAA;MACX;IACF;IAEA,IAAIC,SAAA,KAAcS,SAAA,EAAW;MAC3BH,UAAA,CAAWN,SAAA,GAAYd,SAAA,CAAUwB,MAAM;MACvC;IACF;IAEA;IACA,IAAMC,QAAA,GAAW,SAAAA,CAAA;aAAML,UAAA,CAAW,CAACC,YAAA,CAAaX,eAAe,CAACgB,OAAO;;IACvED,QAAA;IAEAvB,yBAAA,CAA0BmB,YAAA,CAAaX,eAAe,EAAEe,QAAA;IACxD,OAAO;MACLtB,4BAAA,CAA6BkB,YAAA,CAAaX,eAAe,EAAEe,QAAA;IAC7D;EACF,GAAG,CAACZ,WAAA,EAAaC,SAAA,EAAWO,YAAA,CAAa;EAEzC,OAAOF,OAAA;AACT;AA2BA,IAAMQ,IAAA,GAAOvB,QAAA,CAAS;AAEtB;;;AAGA,OAAO,IAAMwB,QAAA,GAAW,SAAAA,CAACC,KAAA;EACvB,IACEC,QAAA,GAYED,KAAA,CAZFC,QAAA;IACAC,KAAA,GAWEF,KAAA,CAXFE,KAAA;IACAC,QAAA,GAUEH,KAAA,CAVFG,QAAA;IACAC,QAAA,GASEJ,KAAA,CATFI,QAAA;IACAC,MAAA,GAQEL,KAAA,CARFK,MAAA;IACArB,WAAS,GAOPgB,KAAA,CAPFV,OAAA;IACAgB,KAAA,GAMEN,KAAA,CANFM,KAAA;IACAC,KAAA,GAKEP,KAAA,CALFO,KAAA;IACAC,UAAA,GAIER,KAAA,CAJFQ,UAAA;IACAC,iBAAA,GAGET,KAAA,CAHFS,iBAAA;IACAC,UAAA,GAEEV,KAAA,CAFFU,UAAA;IACGC,SAAA,GAAAC,0BAAA,CACDZ,KAAA,GAZF,YACA,SACA,YACA,YACA,UACA,WACA,SACA,SACA,cACA,qBACA,a;EAGF,IAAMa,OAAA,GAAU7C,YAAA,CAAa0C,UAAA;EAC7B,IAAMzB,SAAE,GAAclB,aAAA,GAAdkB,SAAA;EACR,IAAMK,OAAA,GAAUP,oBAAA,CAAqBC,WAAA;EAErC,IAAM8B,YAAA,GAAe5C,aAAA,CAAc;IACjC6C,MAAA,EAAQF,OAAA;IACRvB,OAAA,EAAAA;EACF;EAEA,IAAI0B,OAAA,CAAQC,GAAG,CAACC,QAAQ,KAAK,iBAAiBb,MAAA,KAAWX,SAAA,EAAW;IAClE;IACAI,IAAA,CAAK;EACP;EAEA,oBACEjC,KAAA,CAAAsD,aAAA,CAAC3C,aAAA,EAAA4C,oBAAA,CAAAC,cAAA,KACKV,SAAA;IACJJ,KAAA,EAAOa,oBAAA,CAAAC,cAAA,KACFd,KAAA;MACHL,KAAA,EAAOA,KAAA;MACPC,QAAA,EAAUA,QAAA;MACVC,QAAA,EAAUA;;IAEZM,UAAA,EAAYG,OAAA;IACZS,aAAA,EAAexD,UAAA,iBAEbM,oBAAA,CAAqBM,oBAAA,EAAsBO,SAAA,GAC3CoB,MAAA,IAAUvC,UAAA,yBAAuC,iCACjDuC,MAAA,KAAWX,SAAA,IACT5B,UAAA,8BAA4C,sCAC9C0C,UAAA,IACE1C,UAAA,8BAA4C,sCAC9CwC,KAAA,2BACAG,iBAAA;mBAGF5C,KAAA,CAAAsD,aAAA,CAAC1C,eAAA,CAAgB8C,QAAQ;IAACC,KAAA,EAAOV;KAC9BR,KAAA,gBAAQzC,KAAA,CAAAsD,aAAA,CAAC;IAAIM,SAAS;KAAmCxB,QAAA,IAAkBA,QAAA;AAIpF"},"metadata":{},"sourceType":"module"}