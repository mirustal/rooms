{"ast":null,"code":"export var noop = function () {};\n// eslint-disable-line @typescript-eslint/no-empty-function\nexport function throttle(fn) {\n  var threshold = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 50,\n    scope = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : window;\n  var prevDate = Date.now() - threshold;\n  var timeoutId;\n  var throttledFn = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    var timeLeft = prevDate + threshold - Date.now();\n    clearTimeout(timeoutId);\n    if (timeLeft > 0) {\n      timeoutId = setTimeout(function () {\n        prevDate = Date.now();\n        fn.apply(scope, args);\n      }, timeLeft);\n      return;\n    }\n    prevDate = Date.now();\n    fn.apply(scope, args);\n  };\n  throttledFn.cancel = function () {\n    clearTimeout(timeoutId);\n  };\n  return throttledFn;\n}\nexport function debounce(fn, delay) {\n  var context = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : window;\n  var timeoutId;\n  var args;\n  var later = function () {\n    return fn.apply(context, args);\n  };\n  var debouncedFn = function () {\n    for (var _len = arguments.length, a = new Array(_len), _key = 0; _key < _len; _key++) {\n      a[_key] = arguments[_key];\n    }\n    args = a;\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(later, delay);\n  };\n  debouncedFn.cancel = function () {\n    clearTimeout(timeoutId);\n  };\n  return debouncedFn;\n}\nexport function once(fn) {\n  var called = false;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (called) {\n      return;\n    }\n    called = true;\n    return fn.apply(this, args);\n  };\n}","map":{"version":3,"names":["noop","throttle","fn","threshold","arguments","length","scope","window","prevDate","Date","now","timeoutId","throttledFn","args","Array","_len","_key","timeLeft","clearTimeout","setTimeout","apply","cancel","debounce","delay","context","later","debouncedFn","a","once","called"],"sources":["../../src/functions.ts"],"sourcesContent":["export const noop = () => {}; // eslint-disable-line @typescript-eslint/no-empty-function\n\nexport function throttle<T extends any[]>(\n  fn: (...args: T) => unknown,\n  threshold = 50,\n  scope = window,\n) {\n  let prevDate: number = Date.now() - threshold;\n  let timeoutId: ReturnType<typeof setTimeout>;\n\n  const throttledFn = (...args: T) => {\n    const timeLeft = prevDate + threshold - Date.now();\n\n    clearTimeout(timeoutId);\n    if (timeLeft > 0) {\n      timeoutId = setTimeout(() => {\n        prevDate = Date.now();\n        fn.apply(scope, args);\n      }, timeLeft);\n      return;\n    }\n\n    prevDate = Date.now();\n    fn.apply(scope, args);\n  };\n\n  throttledFn.cancel = () => {\n    clearTimeout(timeoutId);\n  };\n\n  return throttledFn;\n}\n\nexport function debounce<T extends any[]>(\n  fn: (...args: T) => unknown,\n  delay: number,\n  context = window,\n) {\n  let timeoutId: ReturnType<typeof setTimeout>;\n  let args: T;\n\n  const later = () => fn.apply(context, args);\n  const debouncedFn = (...a: T) => {\n    args = a;\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(later, delay);\n  };\n\n  debouncedFn.cancel = () => {\n    clearTimeout(timeoutId);\n  };\n\n  return debouncedFn;\n}\n\nexport function once<T extends (...args: any) => any>(fn: T) {\n  let called = false;\n  return function (...args) {\n    if (called) {\n      return;\n    }\n\n    called = true;\n    return fn.apply(this, args);\n  } as T;\n}\n"],"mappings":"AAAA,OAAO,IAAMA,IAAA,GAAO,SAAAA,CAAA,GAAO;AAAG;AAE9B,OAAO,SAASC,SACdC,EAA2B;MAC3BC,SAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,iBAAAA,SAAA,MAAY;IACZE,KAAA,GAAAF,SAAA,CAAAC,MAAA,QAAAD,SAAA,iBAAAA,SAAA,MAAQG,MAAA;EAER,IAAIC,QAAA,GAAmBC,IAAA,CAAKC,GAAG,KAAKP,SAAA;EACpC,IAAIQ,SAAA;EAEJ,IAAMC,WAAA,GAAc,SAAAA,CAAA;sCAAIC,IAAA,OAAAC,KAAA,CAAAC,IAAA,GAAAC,IAAA,MAAAA,IAAA,GAAAD,IAAA,EAAAC,IAAA;MAAAH,IAAA,CAAAG,IAAA,IAAAZ,SAAA,CAAAY,IAAA;;IACtB,IAAMC,QAAA,GAAWT,QAAA,GAAWL,SAAA,GAAYM,IAAA,CAAKC,GAAG;IAEhDQ,YAAA,CAAaP,SAAA;IACb,IAAIM,QAAA,GAAW,GAAG;MAChBN,SAAA,GAAYQ,UAAA,CAAW;QACrBX,QAAA,GAAWC,IAAA,CAAKC,GAAG;QACnBR,EAAA,CAAGkB,KAAK,CAACd,KAAA,EAAOO,IAAA;MAClB,GAAGI,QAAA;MACH;IACF;IAEAT,QAAA,GAAWC,IAAA,CAAKC,GAAG;IACnBR,EAAA,CAAGkB,KAAK,CAACd,KAAA,EAAOO,IAAA;EAClB;EAEAD,WAAA,CAAYS,MAAM,GAAG;IACnBH,YAAA,CAAaP,SAAA;EACf;EAEA,OAAOC,WAAA;AACT;AAEA,OAAO,SAASU,SACdpB,EAA2B,EAC3BqB,KAAa;MACbC,OAAA,GAAApB,SAAA,CAAAC,MAAA,QAAAD,SAAA,iBAAAA,SAAA,MAAUG,MAAA;EAEV,IAAII,SAAA;EACJ,IAAIE,IAAA;EAEJ,IAAMY,KAAA,GAAQ,SAAAA,CAAA;WAAMvB,EAAA,CAAGkB,KAAK,CAACI,OAAA,EAASX,IAAA;;EACtC,IAAMa,WAAA,GAAc,SAAAA,CAAA;sCAAIC,CAAA,OAAAb,KAAA,CAAAC,IAAA,GAAAC,IAAA,MAAAA,IAAA,GAAAD,IAAA,EAAAC,IAAA;MAAAW,CAAA,CAAAX,IAAA,IAAAZ,SAAA,CAAAY,IAAA;;IACtBH,IAAA,GAAOc,CAAA;IACPT,YAAA,CAAaP,SAAA;IACbA,SAAA,GAAYQ,UAAA,CAAWM,KAAA,EAAOF,KAAA;EAChC;EAEAG,WAAA,CAAYL,MAAM,GAAG;IACnBH,YAAA,CAAaP,SAAA;EACf;EAEA,OAAOe,WAAA;AACT;AAEA,OAAO,SAASE,KAAsC1B,EAAK;EACzD,IAAI2B,MAAA,GAAS;EACb,OAAO;IAAU,SAAAd,IAAA,GAAAX,SAAA,CAAAC,MAAA,EAAAQ,IAAG,GAAH,IAAAC,KAAA,CAAAC,IAAA,GAAAC,IAAA,MAAAA,IAAA,GAAAD,IAAA,EAAAC,IAAA;MAAGH,IAAA,CAAHG,IAAA,IAAAZ,SAAA,CAAAY,IAAA,CAAO;IAAD;IACrB,IAAIa,MAAA,EAAQ;MACV;IACF;IAEAA,MAAA,GAAS;IACT,OAAO3B,EAAA,CAAGkB,KAAK,CAAC,IAAI,EAAEP,IAAA;EACxB;AACF"},"metadata":{},"sourceType":"module"}