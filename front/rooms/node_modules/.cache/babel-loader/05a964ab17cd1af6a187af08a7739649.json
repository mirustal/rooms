{"ast":null,"code":"import { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport * as React from \"react\";\nimport { canUseDOM } from \"@vkontakte/vkjs\";\nexport { canUseDOM, canUseEventListeners, onDOMLoaded } from \"@vkontakte/vkjs\";\n/* eslint-disable no-restricted-globals */\nexport var getDOM = function () {\n  return {\n    window: canUseDOM ? window : undefined,\n    document: canUseDOM ? document : undefined\n  };\n};\n/* eslint-enable no-restricted-globals */\nexport var DOMContext = /*#__PURE__*/React.createContext(getDOM());\nexport var useDOM = function () {\n  return React.useContext(DOMContext);\n};\nexport function withDOM(Component) {\n  var WithDOM = function (props) {\n    var dom = useDOM();\n    return /*#__PURE__*/React.createElement(Component, _object_spread({}, props, dom));\n  };\n  return WithDOM;\n}\nexport function blurActiveElement(document1) {\n  if (document1 && document1.activeElement) {\n    document1.activeElement.blur();\n  }\n}","map":{"version":3,"names":["React","canUseDOM","canUseEventListeners","onDOMLoaded","getDOM","window","undefined","document","DOMContext","createContext","useDOM","useContext","withDOM","Component","WithDOM","props","dom","createElement","_object_spread","blurActiveElement","document1","activeElement","blur"],"sources":["../../src/lib/dom.tsx"],"sourcesContent":["import * as React from 'react';\nimport { canUseDOM } from '@vkontakte/vkjs';\nexport { canUseDOM, canUseEventListeners, onDOMLoaded } from '@vkontakte/vkjs';\n\nexport interface DOMContextInterface {\n  /**\n   * @ignore\n   */\n  window?: Window;\n  /**\n   * @ignore\n   */\n  document?: Document;\n}\n\nexport type DOMProps = DOMContextInterface;\n\n/* eslint-disable no-restricted-globals */\nexport const getDOM = () => ({\n  window: canUseDOM ? window : undefined,\n  document: canUseDOM ? document : undefined,\n});\n/* eslint-enable no-restricted-globals */\n\nexport const DOMContext = React.createContext<DOMContextInterface>(getDOM());\n\nexport const useDOM = () => {\n  return React.useContext(DOMContext);\n};\n\nexport function withDOM<Props>(\n  Component: React.ComponentType<Props & DOMProps>,\n): React.ComponentType<Props> {\n  const WithDOM = (props: Props) => {\n    const dom = useDOM();\n    return <Component {...props} {...dom} />;\n  };\n  return WithDOM;\n}\n\nexport function blurActiveElement(document: Document | undefined) {\n  if (document && document.activeElement) {\n    (document.activeElement as HTMLElement).blur();\n  }\n}\n"],"mappings":";AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,SAAS,QAAQ;AAC1B,SAASA,SAAS,EAAEC,oBAAoB,EAAEC,WAAW,QAAQ;AAe7D;AACA,OAAO,IAAMC,MAAA,GAAS,SAAAA,CAAA;SAAO;IAC3BC,MAAA,EAAQJ,SAAA,GAAYI,MAAA,GAASC,SAAA;IAC7BC,QAAA,EAAUN,SAAA,GAAYM,QAAA,GAAWD;EACnC;;AACA;AAEA,OAAO,IAAME,UAAA,gBAAaR,KAAA,CAAMS,aAAa,CAAsBL,MAAA;AAEnE,OAAO,IAAMM,MAAA,GAAS,SAAAA,CAAA;EACpB,OAAOV,KAAA,CAAMW,UAAU,CAACH,UAAA;AAC1B;AAEA,OAAO,SAASI,QACdC,SAAgD;EAEhD,IAAMC,OAAA,GAAU,SAAAA,CAACC,KAAA;IACf,IAAMC,GAAA,GAAMN,MAAA;IACZ,oBAAOV,KAAA,CAAAiB,aAAA,CAACJ,SAAA,EAAAK,cAAA,KAAcH,KAAA,EAAWC,GAAA;EACnC;EACA,OAAOF,OAAA;AACT;AAEA,OAAO,SAASK,kBAAkBC,SAA8B;EAC9D,IAAIA,SAAA,IAAYA,SAAA,CAASC,aAAa,EAAE;IACrCD,SAAA,CAASC,aAAa,CAAiBC,IAAI;EAC9C;AACF"},"metadata":{},"sourceType":"module"}