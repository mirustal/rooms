{"ast":null,"code":"var _jsxFileName = \"/Users/mirustal/Documents/project/rooms/front/rooms/src/components/views/Channels/Channels.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from \"react\";\nimport { View, Panel, Group, PanelHeader, PanelHeaderBack, CellButton, Div } from \"@vkontakte/vkui\";\nimport { ModalIds, Views } from \"../../../model/views\";\nimport ChannelView from \"./ChannelView\";\nimport { Icon24Add } from \"@vkontakte/icons\";\nimport AlterActionSheet from \"./AlterActionSheet\";\nimport { AlertManagerContext } from \"../../contexts/AlertProvider\";\nimport { channelOperation } from \"./utils/channelOperation\";\nimport useAdminStatus from \"./hooks/channelManager\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Channels(_ref) {\n  _s();\n\n  let {\n    roomManager,\n    returnBack\n  } = _ref;\n  const [editModeActive, setEditModeActive] = useState(false);\n  const userIsAdmin = useAdminStatus(roomManager.room);\n  const alerts = useContext(AlertManagerContext);\n  const channelsOps = channelOperation(roomManager, alerts);\n\n  const toggleEditMode = () => setEditModeActive(!editModeActive);\n\n  const showModal = (modalId, props) => {\n    ModalManager.showModal(modalId, props);\n  };\n\n  return roomManager.room ? /*#__PURE__*/_jsxDEV(View, {\n    id: Views.Rooms.id,\n    activePanel: Views.Rooms.panels.list.id,\n    children: /*#__PURE__*/_jsxDEV(Panel, {\n      id: Views.Rooms.panels.list.id,\n      children: [/*#__PURE__*/_jsxDEV(PanelHeader, {\n        before: /*#__PURE__*/_jsxDEV(PanelHeaderBack, {\n          onClick: returnBack\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 30\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(Div, {\n          style: {\n            display: 'flex'\n          },\n          children: /*#__PURE__*/_jsxDEV(AlterActionSheet, {\n            roomInfo: roomManager.room,\n            returnBack: returnBack,\n            handleActiveEditMode: toggleEditMode,\n            userIsAdmin: userIsAdmin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Group, {\n        children: [roomManager.room.channels.map((channel, index) => /*#__PURE__*/_jsxDEV(ChannelView, {\n          channelIndex: index,\n          channel: channel,\n          renameToChannel: () => showModal(ModalIds.RenameChannel, {\n            renameChannelId: channel.id,\n            renameChannel: channelsOps.rename\n          }),\n          deleteToChannel: () => channelsOps.delete(channel.id),\n          editModeActive: editModeActive,\n          refreshChannel: () => channelsOps.refresh(channel.id),\n          userIsAdmin: userIsAdmin\n        }, channel.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this)), userIsAdmin && /*#__PURE__*/_jsxDEV(CellButton, {\n          onClick: () => showModal(ModalIds.CreateChannel, {\n            createChannel: channelsOps.create\n          }),\n          centered: true,\n          before: /*#__PURE__*/_jsxDEV(Icon24Add, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 23\n          }, this),\n          children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043A\\u0430\\u043D\\u0430\\u043B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this) : null;\n}\n\n_s(Channels, \"HcOfVIOlHJg/I/eGQgyqXe17iTw=\", false, function () {\n  return [useAdminStatus];\n});\n\n_c = Channels;\n\nvar _c;\n\n$RefreshReg$(_c, \"Channels\");","map":{"version":3,"names":["React","useContext","useState","View","Panel","Group","PanelHeader","PanelHeaderBack","CellButton","Div","ModalIds","Views","ChannelView","Icon24Add","AlterActionSheet","AlertManagerContext","channelOperation","useAdminStatus","Channels","roomManager","returnBack","editModeActive","setEditModeActive","userIsAdmin","room","alerts","channelsOps","toggleEditMode","showModal","modalId","props","ModalManager","Rooms","id","panels","list","display","channels","map","channel","index","RenameChannel","renameChannelId","renameChannel","rename","delete","refresh","CreateChannel","createChannel","create"],"sources":["/Users/mirustal/Documents/project/rooms/front/rooms/src/components/views/Channels/Channels.jsx"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport {\n  View,\n  Panel,\n  Group,\n  PanelHeader,\n  PanelHeaderBack,\n  CellButton,\n  Div,\n} from \"@vkontakte/vkui\";\nimport { ModalIds, Views } from \"../../../model/views\";\nimport ChannelView from \"./ChannelView\";\nimport { Icon24Add } from \"@vkontakte/icons\";\nimport AlterActionSheet from \"./AlterActionSheet\";\nimport { AlertManagerContext } from \"../../contexts/AlertProvider\";\nimport { channelOperation } from \"./utils/channelOperation\";\nimport useAdminStatus from \"./hooks/channelManager\";\n\nexport default function Channels({ roomManager, returnBack }) {\n  const [editModeActive, setEditModeActive] = useState(false);\n  const userIsAdmin = useAdminStatus(roomManager.room);\n  const alerts = useContext(AlertManagerContext);\n  const channelsOps = channelOperation(roomManager, alerts);\n\n  const toggleEditMode = () => setEditModeActive(!editModeActive);\n\n  const showModal = (modalId, props) => {\n    ModalManager.showModal(modalId, props);\n  };\n\n  return roomManager.room ? (\n    <View id={Views.Rooms.id} activePanel={Views.Rooms.panels.list.id}>\n      <Panel id={Views.Rooms.panels.list.id}>\n        <PanelHeader before={<PanelHeaderBack onClick={returnBack} />}>\n          <Div style={{ display: 'flex' }}>  \n            <AlterActionSheet\n              roomInfo={roomManager.room}\n              returnBack={returnBack}\n              handleActiveEditMode={toggleEditMode}\n              userIsAdmin={userIsAdmin}\n            />\n          </Div>\n        </PanelHeader>\n        <Group>\n          {roomManager.room.channels.map((channel, index) => (\n            <ChannelView\n              key={channel.id}\n              channelIndex={index}\n              channel={channel}\n              renameToChannel={() => showModal(ModalIds.RenameChannel, {\n                renameChannelId: channel.id,\n                renameChannel: channelsOps.rename,\n              })}\n              deleteToChannel={() => channelsOps.delete(channel.id)}\n              editModeActive={editModeActive}\n              refreshChannel={() => channelsOps.refresh(channel.id)}\n              userIsAdmin={userIsAdmin}\n            />\n          ))}\n          {userIsAdmin && (\n            <CellButton\n              onClick={() => showModal(ModalIds.CreateChannel, { createChannel: channelsOps.create })}\n              centered\n              before={<Icon24Add />}\n            >\n              Создать канал\n            </CellButton>\n          )}\n        </Group>\n      </Panel>\n    </View>\n  ) : null;\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}