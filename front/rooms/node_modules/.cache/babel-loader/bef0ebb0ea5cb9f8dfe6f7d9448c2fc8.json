{"ast":null,"code":"import * as React from \"react\";\nimport { SizeType } from \"../../lib/adaptivity\";\nimport { setHours, setMinutes } from \"../../lib/date\";\nimport { AdaptivityProvider } from \"../AdaptivityProvider/AdaptivityProvider\";\nimport { Button } from \"../Button/Button\";\nimport { CustomSelect } from \"../CustomSelect/CustomSelect\";\nvar hours = [];\nfor (var i = 0; i < 24; i += 1) {\n  hours.push({\n    value: i,\n    label: String(i).padStart(2, \"0\")\n  });\n}\nvar minutes = [];\nfor (var i1 = 0; i1 < 60; i1 += 1) {\n  minutes.push({\n    value: i1,\n    label: String(i1).padStart(2, \"0\")\n  });\n}\nexport var CalendarTime = function (param) {\n  var value = param.value,\n    _param_doneButtonText = param.doneButtonText,\n    doneButtonText = _param_doneButtonText === void 0 ? \"Готово\" : _param_doneButtonText,\n    onChange = param.onChange,\n    onClose = param.onClose,\n    _param_changeHoursAriaLabel = param.changeHoursAriaLabel,\n    changeHoursAriaLabel = _param_changeHoursAriaLabel === void 0 ? \"Изменить час\" : _param_changeHoursAriaLabel,\n    _param_changeMinutesAriaLabel = param.changeMinutesAriaLabel,\n    changeMinutesAriaLabel = _param_changeMinutesAriaLabel === void 0 ? \"Изменить минуту\" : _param_changeMinutesAriaLabel;\n  var onHoursChange = React.useCallback(function (event) {\n    return onChange === null || onChange === void 0 ? void 0 : onChange(setHours(value, Number(event.target.value)));\n  }, [onChange, value]);\n  var onMinutesChange = React.useCallback(function (event) {\n    return onChange === null || onChange === void 0 ? void 0 : onChange(setMinutes(value, Number(event.target.value)));\n  }, [onChange, value]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiCalendarTime\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiCalendarTime__picker\"\n  }, /*#__PURE__*/React.createElement(AdaptivityProvider, {\n    sizeY: SizeType.COMPACT\n  }, /*#__PURE__*/React.createElement(CustomSelect, {\n    value: value.getHours(),\n    options: hours,\n    onChange: onHoursChange,\n    forceDropdownPortal: false,\n    \"aria-label\": changeHoursAriaLabel\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiCalendarTime__divider\"\n  }, \":\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiCalendarTime__picker\"\n  }, /*#__PURE__*/React.createElement(AdaptivityProvider, {\n    sizeY: SizeType.COMPACT\n  }, /*#__PURE__*/React.createElement(CustomSelect, {\n    value: value.getMinutes(),\n    options: minutes,\n    onChange: onMinutesChange,\n    forceDropdownPortal: false,\n    \"aria-label\": changeMinutesAriaLabel\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiCalendarTime__button\"\n  }, /*#__PURE__*/React.createElement(AdaptivityProvider, {\n    sizeY: SizeType.COMPACT\n  }, /*#__PURE__*/React.createElement(Button, {\n    mode: \"secondary\",\n    onClick: onClose,\n    size: \"l\",\n    \"aria-label\": doneButtonText\n  }, doneButtonText))));\n};","map":{"version":3,"names":["React","SizeType","setHours","setMinutes","AdaptivityProvider","Button","CustomSelect","hours","i","push","value","label","String","padStart","minutes","i1","CalendarTime","param","_param_doneButtonText","doneButtonText","onChange","onClose","_param_changeHoursAriaLabel","changeHoursAriaLabel","_param_changeMinutesAriaLabel","changeMinutesAriaLabel","onHoursChange","useCallback","event","Number","target","onMinutesChange","createElement","className","sizeY","COMPACT","getHours","options","forceDropdownPortal","getMinutes","mode","onClick","size"],"sources":["../../../src/components/CalendarTime/CalendarTime.tsx"],"sourcesContent":["import * as React from 'react';\nimport { SizeType } from '../../lib/adaptivity';\nimport { setHours, setMinutes } from '../../lib/date';\nimport { AdaptivityProvider } from '../AdaptivityProvider/AdaptivityProvider';\nimport { Button } from '../Button/Button';\nimport { CustomSelect } from '../CustomSelect/CustomSelect';\nimport styles from './CalendarTime.module.css';\n\nexport interface CalendarTimeProps {\n  value: Date;\n  doneButtonText?: string;\n  changeHoursAriaLabel?: string;\n  changeMinutesAriaLabel?: string;\n  onChange?(value: Date): void;\n  onClose?(): void;\n}\n\nconst hours: Array<{\n  value: number;\n  label: string;\n}> = [];\nfor (let i = 0; i < 24; i += 1) {\n  hours.push({ value: i, label: String(i).padStart(2, '0') });\n}\n\nconst minutes: Array<{\n  value: number;\n  label: string;\n}> = [];\nfor (let i = 0; i < 60; i += 1) {\n  minutes.push({ value: i, label: String(i).padStart(2, '0') });\n}\n\nexport const CalendarTime = ({\n  value,\n  doneButtonText = 'Готово',\n  onChange,\n  onClose,\n  changeHoursAriaLabel = 'Изменить час',\n  changeMinutesAriaLabel = 'Изменить минуту',\n}: CalendarTimeProps) => {\n  const onHoursChange = React.useCallback(\n    (event: React.ChangeEvent<HTMLSelectElement>) =>\n      onChange?.(setHours(value, Number(event.target.value))),\n    [onChange, value],\n  );\n  const onMinutesChange = React.useCallback(\n    (event: React.ChangeEvent<HTMLSelectElement>) =>\n      onChange?.(setMinutes(value, Number(event.target.value))),\n    [onChange, value],\n  );\n\n  return (\n    <div className={styles['CalendarTime']}>\n      <div className={styles['CalendarTime__picker']}>\n        <AdaptivityProvider sizeY={SizeType.COMPACT}>\n          <CustomSelect\n            value={value.getHours()}\n            options={hours}\n            onChange={onHoursChange}\n            forceDropdownPortal={false}\n            aria-label={changeHoursAriaLabel}\n          />\n        </AdaptivityProvider>\n      </div>\n      <div className={styles['CalendarTime__divider']}>:</div>\n      <div className={styles['CalendarTime__picker']}>\n        <AdaptivityProvider sizeY={SizeType.COMPACT}>\n          <CustomSelect\n            value={value.getMinutes()}\n            options={minutes}\n            onChange={onMinutesChange}\n            forceDropdownPortal={false}\n            aria-label={changeMinutesAriaLabel}\n          />\n        </AdaptivityProvider>\n      </div>\n      <div className={styles['CalendarTime__button']}>\n        <AdaptivityProvider sizeY={SizeType.COMPACT}>\n          <Button mode=\"secondary\" onClick={onClose} size=\"l\" aria-label={doneButtonText}>\n            {doneButtonText}\n          </Button>\n        </AdaptivityProvider>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}