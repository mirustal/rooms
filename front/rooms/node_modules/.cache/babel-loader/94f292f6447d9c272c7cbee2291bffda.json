{"ast":null,"code":"var _jsxFileName = \"/Users/mirustal/Documents/project/rooms/front/rooms/src/components/views/Channels/AlterActionSheet.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from \"react\";\nimport { Icon28DeleteOutline, Icon28DoorArrowRightOutline, Icon28EditOutline, Icon28ShareOutline } from \"@vkontakte/icons\";\nimport { PanelHeaderContext, SimpleCell } from \"@vkontakte/vkui\";\nimport { getFromStorage, pushToStorage, shareInviteLink } from \"../../../bridge/bridgeLib\";\nimport { Locales } from \"../../../locales/locales\";\nimport { VkStorageKeys } from \"../../../bridge/storageKeys\";\nimport { AlertManagerContext, AreYouShureAlert } from \"../../contexts/AlertProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AlterActionSheet(_ref) {\n  _s();\n\n  let {\n    roomInfo,\n    returnBack,\n    handleActiveEditMode,\n    userIsAdmin,\n    deleteRoom,\n    deleteMember,\n    contextOpened,\n    toggleContext\n  } = _ref;\n  const alertManager = useContext(AlertManagerContext);\n\n  const handleExitRoom = async () => {\n    alertManager.showAlert(AreYouShureAlert({\n      alertManager: alertManager,\n      onYes: async () => {\n        const idFromStorage = await getFromStorage(VkStorageKeys.JoinedRooms);\n        const updatedString = idFromStorage.replace(new RegExp(\",\" + roomInfo.id, 'g'), \"\");\n        pushToStorage(VkStorageKeys.JoinedRooms, updatedString);\n        deleteMember();\n        returnBack();\n      },\n      yesTitle: Locales.Alerts.Exit,\n      noTitle: Locales.Alerts.Cancel,\n      title: Locales.Alerts.ConfirmExitRoomTitle\n    }));\n  };\n\n  const handleShareRoom = async () => {\n    await shareInviteLink(roomInfo.id);\n  };\n\n  return /*#__PURE__*/_jsxDEV(PanelHeaderContext, {\n    opened: contextOpened,\n    onClose: toggleContext,\n    children: [/*#__PURE__*/_jsxDEV(SimpleCell, {\n      before: /*#__PURE__*/_jsxDEV(Icon28ShareOutline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this),\n      onClick: handleShareRoom,\n      \"data-mode\": \"all\",\n      children: Locales.ActionSheetName.ShareRoom\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), userIsAdmin && /*#__PURE__*/_jsxDEV(SimpleCell, {\n      before: /*#__PURE__*/_jsxDEV(Icon28EditOutline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 19\n      }, this),\n      onClick: handleActiveEditMode,\n      \"data-mode\": \"all\",\n      children: Locales.ActionSheetName.EditRoom\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this), userIsAdmin ? /*#__PURE__*/_jsxDEV(SimpleCell, {\n      before: /*#__PURE__*/_jsxDEV(Icon28DeleteOutline, {\n        fill: \"red\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this),\n      onClick: e => {\n        e.stopPropagation();\n        alertManager.showAlert(AreYouShureAlert({\n          alertManager: alertManager,\n          onYes: deleteRoom,\n          yesTitle: Locales.Alerts.Delete,\n          noTitle: Locales.Alerts.Cancel,\n          title: Locales.Alerts.ConfirmDeleteRoomTitle\n        }));\n        returnBack();\n      },\n      \"data-mode\": \"all\",\n      children: Locales.ActionSheetName.DeleteRoom\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(SimpleCell, {\n      before: /*#__PURE__*/_jsxDEV(Icon28DoorArrowRightOutline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }, this),\n      onClick: () => {\n        handleExitRoom;\n        returnBack();\n      },\n      \"data-mode\": \"all\",\n      children: Locales.ActionSheetName.ExitRoom\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AlterActionSheet, \"+zO0i/Mvnlz76xEuZZvN1TeKnHY=\");\n\n_c = AlterActionSheet;\nexport default AlterActionSheet;\n\nvar _c;\n\n$RefreshReg$(_c, \"AlterActionSheet\");","map":{"version":3,"names":["React","useContext","Icon28DeleteOutline","Icon28DoorArrowRightOutline","Icon28EditOutline","Icon28ShareOutline","PanelHeaderContext","SimpleCell","getFromStorage","pushToStorage","shareInviteLink","Locales","VkStorageKeys","AlertManagerContext","AreYouShureAlert","AlterActionSheet","roomInfo","returnBack","handleActiveEditMode","userIsAdmin","deleteRoom","deleteMember","contextOpened","toggleContext","alertManager","handleExitRoom","showAlert","onYes","idFromStorage","JoinedRooms","updatedString","replace","RegExp","id","yesTitle","Alerts","Exit","noTitle","Cancel","title","ConfirmExitRoomTitle","handleShareRoom","ActionSheetName","ShareRoom","EditRoom","e","stopPropagation","Delete","ConfirmDeleteRoomTitle","DeleteRoom","ExitRoom"],"sources":["/Users/mirustal/Documents/project/rooms/front/rooms/src/components/views/Channels/AlterActionSheet.jsx"],"sourcesContent":["import React, { useContext } from \"react\";\nimport {\n  Icon28DeleteOutline,\n  Icon28DoorArrowRightOutline,\n  Icon28EditOutline,\n  Icon28ShareOutline,\n} from \"@vkontakte/icons\";\n\nimport { PanelHeaderContext, SimpleCell } from \"@vkontakte/vkui\";\nimport {\n  getFromStorage,\n  pushToStorage,\n  shareInviteLink,\n} from \"../../../bridge/bridgeLib\";\nimport { Locales } from \"../../../locales/locales\";\nimport { VkStorageKeys } from \"../../../bridge/storageKeys\";\nimport {\n  AlertManagerContext, AreYouShureAlert,\n} from \"../../contexts/AlertProvider\";\n\nfunction AlterActionSheet({ roomInfo, returnBack, handleActiveEditMode, userIsAdmin, deleteRoom, deleteMember, contextOpened, toggleContext }) {\n  const alertManager = useContext(AlertManagerContext);\n\n  const handleExitRoom = async () => {\n    alertManager.showAlert(AreYouShureAlert({alertManager: alertManager, onYes: async () => {\n      const idFromStorage = await getFromStorage(VkStorageKeys.JoinedRooms);\n      const updatedString = idFromStorage.replace(new RegExp(\",\" + roomInfo.id, 'g'), \"\");\n      pushToStorage(VkStorageKeys.JoinedRooms, updatedString);\n      deleteMember();\n      returnBack();\n    }, yesTitle: Locales.Alerts.Exit, noTitle: Locales.Alerts.Cancel, title: Locales.Alerts.ConfirmExitRoomTitle}))\n  };\n\n  const handleShareRoom = async () => {\n    await shareInviteLink(roomInfo.id);\n  };\n \n\n  return (\n    <PanelHeaderContext opened={contextOpened} onClose={toggleContext}>\n      <SimpleCell\n        before={<Icon28ShareOutline />}\n        onClick={handleShareRoom}\n        data-mode=\"all\"\n      >\n        {Locales.ActionSheetName.ShareRoom}\n      </SimpleCell>\n      {userIsAdmin && (\n        <SimpleCell\n          before={<Icon28EditOutline />}\n          onClick={handleActiveEditMode}\n          data-mode=\"all\"\n        >\n          {Locales.ActionSheetName.EditRoom}\n        </SimpleCell>\n      )}\n      {\n        userIsAdmin ? (\n          <SimpleCell\n\n            before={<Icon28DeleteOutline  fill=\"red\"/>}\n            onClick={(e) => {\n              e.stopPropagation();\n              alertManager.showAlert(AreYouShureAlert({\n                alertManager: alertManager, \n                onYes: deleteRoom, \n                yesTitle: Locales.Alerts.Delete, \n                noTitle: Locales.Alerts.Cancel, \n                title: Locales.Alerts.ConfirmDeleteRoomTitle\n              }));\n              returnBack();\n            }}\n            data-mode=\"all\"\n          >\n            {Locales.ActionSheetName.DeleteRoom}\n          </SimpleCell>\n        ) : (\n          <SimpleCell\n            before={<Icon28DoorArrowRightOutline />}\n            onClick={() => {handleExitRoom; returnBack()}}\n            data-mode=\"all\"\n          >\n            {Locales.ActionSheetName.ExitRoom}\n          </SimpleCell>\n        )\n      }\n    </PanelHeaderContext>\n  )\n}\n\nexport default AlterActionSheet;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}