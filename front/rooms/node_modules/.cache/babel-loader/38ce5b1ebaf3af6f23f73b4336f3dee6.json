{"ast":null,"code":"import { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport { _ as _sliced_to_array } from \"@swc/helpers/_/_sliced_to_array\";\nimport * as React from \"react\";\nexport function useEnsuredControl(_param) {\n  var onChangeProp = _param.onChange,\n    disabled = _param.disabled,\n    props = _object_without_properties(_param, [\"onChange\", \"disabled\"]);\n  var _useCustomEnsuredControl = _sliced_to_array(useCustomEnsuredControl(props), 2),\n    value = _useCustomEnsuredControl[0],\n    onChangeValue = _useCustomEnsuredControl[1];\n  var onChange = React.useCallback(function (e) {\n    if (disabled) {\n      return;\n    }\n    onChangeValue(e.target.value);\n    onChangeProp && onChangeProp(e);\n  }, [onChangeValue, onChangeProp, disabled]);\n  return [value, onChange];\n}\nexport function useCustomEnsuredControl(param) {\n  var disabled = param.disabled,\n    onChangeProp = param.onChange,\n    defaultValue = param.defaultValue,\n    value = param.value;\n  var isControlled = value !== undefined;\n  var _React_useState = _sliced_to_array(React.useState(defaultValue), 2),\n    localValue = _React_useState[0],\n    setLocalValue = _React_useState[1];\n  var onChange = React.useCallback(function (v) {\n    if (disabled) {\n      return;\n    }\n    !isControlled && setLocalValue(v);\n    onChangeProp && onChangeProp(v);\n  }, [disabled, isControlled, onChangeProp]);\n  return [isControlled ? value : localValue, onChange];\n}","map":{"version":3,"names":["React","useEnsuredControl","_param","onChangeProp","onChange","disabled","props","_object_without_properties","_useCustomEnsuredControl","_sliced_to_array","useCustomEnsuredControl","value","onChangeValue","useCallback","e","target","param","defaultValue","isControlled","undefined","_React_useState","useState","localValue","setLocalValue","v"],"sources":["../../src/hooks/useEnsuredControl.ts"],"sourcesContent":["import * as React from 'react';\n\ninterface UseEnsuredControlProps<V, E extends React.ChangeEvent<any>> {\n  value?: V;\n  onChange?: (e: E) => any;\n  defaultValue: V;\n  disabled?: boolean | undefined;\n}\n\nexport function useEnsuredControl<V, E extends React.ChangeEvent<any>>({\n  onChange: onChangeProp,\n  disabled,\n  ...props\n}: UseEnsuredControlProps<V, E>): [V | undefined, (e: E) => any] {\n  const [value, onChangeValue] = useCustomEnsuredControl(props);\n\n  const onChange = React.useCallback(\n    (e: E) => {\n      if (disabled) {\n        return;\n      }\n\n      onChangeValue(e.target.value);\n      onChangeProp && onChangeProp(e);\n    },\n    [onChangeValue, onChangeProp, disabled],\n  );\n\n  return [value, onChange];\n}\n\ninterface UseCustomEnsuredControlProps<V> {\n  value?: V;\n  onChange?: (v: V) => any;\n  defaultValue: V;\n  disabled?: boolean | undefined;\n}\n\nexport function useCustomEnsuredControl<V>({\n  disabled,\n  onChange: onChangeProp,\n  defaultValue,\n  value,\n}: UseCustomEnsuredControlProps<V>): [V | undefined, (e: V) => any] {\n  const isControlled = value !== undefined;\n  const [localValue, setLocalValue] = React.useState(defaultValue);\n\n  const onChange = React.useCallback(\n    (v: V) => {\n      if (disabled) {\n        return;\n      }\n\n      !isControlled && setLocalValue(v);\n      onChangeProp && onChangeProp(v);\n    },\n    [disabled, isControlled, onChangeProp],\n  );\n\n  return [isControlled ? value : localValue, onChange];\n}\n"],"mappings":";;AAAA,YAAYA,KAAA,MAAW;AASvB,OAAO,SAASC,kBAAuDC,MAAA;MACrEC,YAAU,GAD2DD,MAAA,CACrEE,QAAA;IACAC,QAAA,GAFqEH,MAAA,CAErEG,QAAA;IACGC,KAAA,GAAAC,0BAAA,CAHkEL,MAAA,GACrE,YACA,W;EAGA,IAA+BM,wBAAA,GAAAC,gBAAA,CAAAC,uBAAA,CAAwBJ,KAAA;IAAhDK,KAAA,GAAwBH,wBAAA;IAAjBI,aAAA,GAAiBJ,wBAAA;EAE/B,IAAMJ,QAAA,GAAWJ,KAAA,CAAMa,WAAW,CAChC,UAACC,CAAA;IACC,IAAIT,QAAA,EAAU;MACZ;IACF;IAEAO,aAAA,CAAcE,CAAA,CAAEC,MAAM,CAACJ,KAAK;IAC5BR,YAAA,IAAgBA,YAAA,CAAaW,CAAA;EAC/B,GACA,CAACF,aAAA,EAAeT,YAAA,EAAcE,QAAA,CAAS;EAGzC,OAAO,CAACM,KAAA,EAAOP,QAAA,CAAS;AAC1B;AASA,OAAO,SAASM,wBAA2BM,KAKT;MAJhCX,QAAA,GADyCW,KAAA,CACzCX,QAAA;IACAF,YAAU,GAF+Ba,KAAA,CAEzCZ,QAAA;IACAa,YAAA,GAHyCD,KAAA,CAGzCC,YAAA;IACAN,KAAA,GAJyCK,KAAA,CAIzCL,KAAA;EAEA,IAAMO,YAAA,GAAeP,KAAA,KAAUQ,SAAA;EAC/B,IAAoCC,eAAA,GAAAX,gBAAA,CAAAT,KAAA,CAAMqB,QAAQ,CAACJ,YAAA;IAA5CK,UAAA,GAA6BF,eAAA;IAAjBG,aAAA,GAAiBH,eAAA;EAEpC,IAAMhB,QAAA,GAAWJ,KAAA,CAAMa,WAAW,CAChC,UAACW,CAAA;IACC,IAAInB,QAAA,EAAU;MACZ;IACF;IAEA,CAACa,YAAA,IAAgBK,aAAA,CAAcC,CAAA;IAC/BrB,YAAA,IAAgBA,YAAA,CAAaqB,CAAA;EAC/B,GACA,CAACnB,QAAA,EAAUa,YAAA,EAAcf,YAAA,CAAa;EAGxC,OAAO,CAACe,YAAA,GAAeP,KAAA,GAAQW,UAAA,EAAYlB,QAAA,CAAS;AACtD"},"metadata":{},"sourceType":"module"}