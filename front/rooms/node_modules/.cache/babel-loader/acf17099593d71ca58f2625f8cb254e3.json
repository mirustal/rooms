{"ast":null,"code":"import { _ as _sliced_to_array } from \"@swc/helpers/_/_sliced_to_array\";\nimport * as React from \"react\";\nimport { classNames } from \"@vkontakte/vkjs\";\nimport { DefaultIcon } from \"./DefaultIcon\";\nvar placementClassNames = {\n  right: \"vkuiPopperArrow--placement-right\",\n  bottom: \"vkuiPopperArrow--placement-bottom\",\n  left: \"vkuiPopperArrow--placement-left\"\n};\nexport var PopperArrow = function (param) {\n  var coords = param.coords,\n    arrowClassName = param.arrowClassName,\n    placement = param.placement,\n    getRootRef = param.getRootRef,\n    _param_Icon = param.Icon,\n    Icon = _param_Icon === void 0 ? DefaultIcon : _param_Icon;\n  var _getArrowPositionData = _sliced_to_array(getArrowPositionData(placement, coords), 2),\n    arrowPlacement = _getArrowPositionData[0],\n    arrowStyles = _getArrowPositionData[1];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: getRootRef,\n    style: arrowStyles,\n    className: classNames(\"vkuiPopperArrow\", arrowPlacement && placementClassNames[arrowPlacement])\n  }, /*#__PURE__*/React.createElement(Icon, {\n    className: classNames(\"vkuiPopperArrow__in\", arrowClassName)\n  }));\n};\nfunction getArrowPositionData(placement) {\n  var coords = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n    x: 0,\n    y: 0\n  };\n  if (placement.startsWith(\"top\")) {\n    return [\"bottom\", {\n      top: \"100%\",\n      left: coords.x\n    }];\n  } else if (placement.startsWith(\"right\")) {\n    return [\"left\", {\n      top: coords.y,\n      left: 0\n    }];\n  } else if (placement.startsWith(\"bottom\")) {\n    return [undefined, {\n      bottom: \"100%\",\n      left: coords.x\n    }];\n  } else {\n    return [\"right\", {\n      top: coords.y,\n      right: 0\n    }];\n  }\n}","map":{"version":3,"names":["React","classNames","DefaultIcon","placementClassNames","right","bottom","left","PopperArrow","param","coords","arrowClassName","placement","getRootRef","_param_Icon","Icon","_getArrowPositionData","_sliced_to_array","getArrowPositionData","arrowPlacement","arrowStyles","createElement","ref","style","className","arguments","length","x","y","startsWith","top","undefined"],"sources":["../../../src/components/PopperArrow/PopperArrow.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport type { Placement } from '../../lib/floating';\nimport type { HasRootRef } from '../../types';\nimport { DefaultIcon } from './DefaultIcon';\nimport styles from './PopperArrow.module.css';\n\nexport type Coords = {\n  x?: number;\n  y?: number;\n};\n\nconst placementClassNames = {\n  right: styles['PopperArrow--placement-right'],\n  bottom: styles['PopperArrow--placement-bottom'],\n  left: styles['PopperArrow--placement-left'],\n};\n\nexport interface PopperArrowProps extends HasRootRef<HTMLDivElement> {\n  coords?: Coords;\n  placement: Placement;\n  arrowClassName?: string;\n  Icon?: React.ComponentType<React.SVGAttributes<SVGSVGElement>>;\n}\n\nexport const PopperArrow = ({\n  coords,\n  arrowClassName,\n  placement,\n  getRootRef,\n  Icon = DefaultIcon,\n}: PopperArrowProps) => {\n  const [arrowPlacement, arrowStyles] = getArrowPositionData(placement, coords);\n\n  return (\n    <div\n      ref={getRootRef}\n      style={arrowStyles}\n      className={classNames(\n        styles['PopperArrow'],\n        arrowPlacement && placementClassNames[arrowPlacement],\n      )}\n    >\n      <Icon className={classNames(styles['PopperArrow__in'], arrowClassName)} />\n    </div>\n  );\n};\n\nfunction getArrowPositionData(\n  placement: Placement,\n  coords: Coords = { x: 0, y: 0 },\n): [undefined | 'right' | 'bottom' | 'left', React.CSSProperties] {\n  if (placement.startsWith('top')) {\n    return [\n      'bottom',\n      {\n        top: '100%',\n        left: coords.x,\n      },\n    ];\n  } else if (placement.startsWith('right')) {\n    return [\n      'left',\n      {\n        top: coords.y,\n        left: 0,\n      },\n    ];\n  } else if (placement.startsWith('bottom')) {\n    return [\n      undefined,\n      {\n        bottom: '100%',\n        left: coords.x,\n      },\n    ];\n  } else {\n    return [\n      'right',\n      {\n        top: coords.y,\n        right: 0,\n      },\n    ];\n  }\n}\n"],"mappings":";AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,UAAU,QAAQ;AAG3B,SAASC,WAAW,QAAQ;AAQ5B,IAAMC,mBAAA,GAAsB;EAC1BC,KAAK;EACLC,MAAM;EACNC,IAAI;AACN;AASA,OAAO,IAAMC,WAAA,GAAc,SAAAA,CAAAC,KAAA;MACzBC,MAAA,GAAAD,KAAA,CAAAC,MAAA;IACAC,cAAA,GAAAF,KAAA,CAAAE,cAAA;IACAC,SAAA,GAAAH,KAAA,CAAAG,SAAA;IACAC,UAAA,GAAAJ,KAAA,CAAAI,UAAA;IAAAC,WAAA,GAAAL,KAAA,CACAM,IAAA;IAAAA,IAAA,GAAAD,WAAA,cAAOX,WAAA,GAAAW,WAAA;EAEP,IAAsCE,qBAAA,GAAAC,gBAAA,CAAAC,oBAAA,CAAqBN,SAAA,EAAWF,MAAA;IAA/DS,cAAA,GAA+BH,qBAAA;IAAfI,WAAA,GAAeJ,qBAAA;EAEtC,oBACEf,KAAA,CAAAoB,aAAA,CAAC;IACCC,GAAA,EAAKT,UAAA;IACLU,KAAA,EAAOH,WAAA;IACPI,SAAA,EAAWtB,UAAA,oBAETiB,cAAA,IAAkBf,mBAAmB,CAACe,cAAA,CAAe;kBAGvDlB,KAAA,CAAAoB,aAAA,CAACN,IAAA;IAAKS,SAAA,EAAWtB,UAAA,wBAAsCS,cAAA;;AAG7D;AAEA,SAASO,qBACPN,SAAoB;MACpBF,MAAA,GAAAe,SAAA,CAAAC,MAAA,QAAAD,SAAA,iBAAAA,SAAA,MAAiB;IAAEE,CAAA,EAAG;IAAGC,CAAA,EAAG;EAAE;EAE9B,IAAIhB,SAAA,CAAUiB,UAAU,CAAC,QAAQ;IAC/B,OAAO,CACL,UACA;MACEC,GAAA,EAAK;MACLvB,IAAA,EAAMG,MAAA,CAAOiB;IACf,EACD;EACH,OAAO,IAAIf,SAAA,CAAUiB,UAAU,CAAC,UAAU;IACxC,OAAO,CACL,QACA;MACEC,GAAA,EAAKpB,MAAA,CAAOkB,CAAC;MACbrB,IAAA,EAAM;IACR,EACD;EACH,OAAO,IAAIK,SAAA,CAAUiB,UAAU,CAAC,WAAW;IACzC,OAAO,CACLE,SAAA,EACA;MACEzB,MAAA,EAAQ;MACRC,IAAA,EAAMG,MAAA,CAAOiB;IACf,EACD;EACH,OAAO;IACL,OAAO,CACL,SACA;MACEG,GAAA,EAAKpB,MAAA,CAAOkB,CAAC;MACbvB,KAAA,EAAO;IACT,EACD;EACH;AACF"},"metadata":{},"sourceType":"module"}