{"ast":null,"code":"import { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport * as React from \"react\";\nimport { classNames } from \"@vkontakte/vkjs\";\nimport { RootComponent } from \"../RootComponent/RootComponent\";\nfunction calcStrokeDashOffset(value, radius) {\n  var progress = value / 100;\n  return 2 * Math.PI * radius * (1 - progress);\n}\nexport var PullToRefreshSpinner = function (_param) {\n  var _param_on = _param.on,\n    on = _param_on === void 0 ? true : _param_on,\n    _param_size = _param.size,\n    size = _param_size === void 0 ? 24 : _param_size,\n    _param_strokeWidth = _param.strokeWidth,\n    strokeWidth = _param_strokeWidth === void 0 ? 2.5 : _param_strokeWidth,\n    _param_progress = _param.progress,\n    progress = _param_progress === void 0 ? 0 : _param_progress,\n    tmp = _param[\"aria-label\"],\n    ariaLabel = tmp === void 0 ? \"Пожалуйста, подождите...\" : tmp,\n    restProps = _object_without_properties(_param, [\"on\", \"size\", \"strokeWidth\", \"progress\", \"aria-label\"]);\n  var radius = 0.5 * size - 0.5 * strokeWidth;\n  var dasharray = 2 * Math.PI * radius;\n  var circleCenter = 0.5 * size;\n  var dashoffset = calcStrokeDashOffset(on ? 80 : progress, radius);\n  return /*#__PURE__*/React.createElement(RootComponent, _object_spread({\n    baseClassName: classNames(\"vkuiPullToRefresh__spinner\", on && \"vkuiPullToRefresh__spinner--on\"),\n    \"aria-label\": on ? ariaLabel : undefined\n  }, restProps), /*#__PURE__*/React.createElement(\"svg\", {\n    role: \"presentation\",\n    className: \"vkuiPullToRefresh__spinner-self\",\n    style: {\n      width: size,\n      height: size\n    },\n    viewBox: \"0 0 \".concat(size, \" \").concat(size),\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      width: size,\n      height: size,\n      transformOrigin: \"\".concat(circleCenter, \"px \").concat(circleCenter, \"px\")\n    }\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    className: \"vkuiPullToRefresh__spinner-path\",\n    fill: \"none\",\n    strokeDasharray: dasharray,\n    strokeDashoffset: dashoffset,\n    strokeWidth: strokeWidth,\n    strokeLinecap: \"round\",\n    cx: circleCenter,\n    cy: circleCenter,\n    r: radius\n  }))));\n};","map":{"version":3,"names":["React","classNames","RootComponent","calcStrokeDashOffset","value","radius","progress","Math","PI","PullToRefreshSpinner","_param","on","_param_on","_param_size","size","_param_strokeWidth","strokeWidth","_param_progress","tmp","ariaLabel","restProps","_object_without_properties","dasharray","circleCenter","dashoffset","createElement","_object_spread","baseClassName","undefined","role","className","style","width","height","viewBox","concat","xmlns","transformOrigin","fill","strokeDasharray","strokeDashoffset","strokeLinecap","cx","cy","r"],"sources":["../../../src/components/PullToRefresh/PullToRefreshSpinner.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './PullToRefresh.module.css';\n\nfunction calcStrokeDashOffset(value: number, radius: number) {\n  const progress = value / 100;\n  return 2 * Math.PI * radius * (1 - progress);\n}\n\nexport interface PullToRefreshSpinnerProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  size?: number;\n  strokeWidth?: number;\n  on?: boolean;\n  progress?: number;\n}\n\nexport const PullToRefreshSpinner = ({\n  on = true,\n  size = 24,\n  strokeWidth = 2.5,\n  progress = 0,\n  'aria-label': ariaLabel = 'Пожалуйста, подождите...',\n  ...restProps\n}: PullToRefreshSpinnerProps) => {\n  const radius = 0.5 * size - 0.5 * strokeWidth;\n  const dasharray = 2 * Math.PI * radius;\n  const circleCenter = 0.5 * size;\n\n  const dashoffset = calcStrokeDashOffset(on ? 80 : progress, radius);\n\n  return (\n    <RootComponent\n      baseClassName={classNames(\n        styles['PullToRefresh__spinner'],\n        on && styles['PullToRefresh__spinner--on'],\n      )}\n      aria-label={on ? ariaLabel : undefined}\n      {...restProps}\n    >\n      <svg\n        role=\"presentation\"\n        className={styles['PullToRefresh__spinner-self']}\n        style={{\n          width: size,\n          height: size,\n        }}\n        viewBox={`0 0 ${size} ${size}`}\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <g\n          style={{\n            width: size,\n            height: size,\n            transformOrigin: `${circleCenter}px ${circleCenter}px`,\n          }}\n        >\n          <circle\n            className={styles['PullToRefresh__spinner-path']}\n            fill=\"none\"\n            strokeDasharray={dasharray}\n            strokeDashoffset={dashoffset}\n            strokeWidth={strokeWidth}\n            strokeLinecap=\"round\"\n            cx={circleCenter}\n            cy={circleCenter}\n            r={radius}\n          />\n        </g>\n      </svg>\n    </RootComponent>\n  );\n};\n"],"mappings":";;AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,UAAU,QAAQ;AAE3B,SAASC,aAAa,QAAQ;AAG9B,SAASC,qBAAqBC,KAAa,EAAEC,MAAc;EACzD,IAAMC,QAAA,GAAWF,KAAA,GAAQ;EACzB,OAAO,IAAIG,IAAA,CAAKC,EAAE,GAAGH,MAAA,IAAU,IAAIC,QAAO;AAC5C;AASA,OAAO,IAAMG,oBAAA,GAAuB,SAAAA,CAAAC,MAAA;yBAClCC,EAAA;IAAAA,EAAA,GAAAC,SAAA,cAAK,OAAAA,SAAA;IAAAC,WAAA,GAAAH,MAAA,CACLI,IAAA;IAAAA,IAAA,GAAAD,WAAA,cAAO,KAAAA,WAAA;IAAAE,kBAAA,GAAAL,MAAA,CACPM,WAAA;IAAAA,WAAA,GAAAD,kBAAA,cAAc,MAAAA,kBAAA;IAAAE,eAAA,GAAAP,MAAA,CACdJ,QAAA;IAAAA,QAAA,GAAAW,eAAA,cAAW,IAAAA,eAAA;IACGC,GAAA,GAAAR,MAAA,CAAd;IAAcS,SAAA,GAAAD,GAAA,cAAY,6BAAZA,GAAA;IACXE,SAAA,GAAAC,0BAAA,CAAAX,MAAA,GALH,MACA,QACA,eACA,YACA,a;EAGA,IAAML,MAAA,GAAS,MAAMS,IAAA,GAAO,MAAME,WAAA;EAClC,IAAMM,SAAA,GAAY,IAAIf,IAAA,CAAKC,EAAE,GAAGH,MAAA;EAChC,IAAMkB,YAAA,GAAe,MAAMT,IAAA;EAE3B,IAAMU,UAAA,GAAarB,oBAAA,CAAqBQ,EAAA,GAAK,KAAKL,QAAA,EAAUD,MAAA;EAE5D,oBACEL,KAAA,CAAAyB,aAAA,CAACvB,aAAA,EAAAwB,cAAA;IACCC,aAAA,EAAe1B,UAAA,+BAEbU,EAAA;IAEF,cAAYA,EAAA,GAAKQ,SAAA,GAAYS;KACzBR,SAAA,gBAEJpB,KAAA,CAAAyB,aAAA,CAAC;IACCI,IAAA,EAAK;IACLC,SAAS;IACTC,KAAA,EAAO;MACLC,KAAA,EAAOlB,IAAA;MACPmB,MAAA,EAAQnB;IACV;IACAoB,OAAA,EAAS,MAAC,CAAcC,MAAA,CAARrB,IAAA,EAAK,KAAQqB,MAAA,CAALrB,IAAA;IACxBsB,KAAA,EAAM;kBAENpC,KAAA,CAAAyB,aAAA,CAAC;IACCM,KAAA,EAAO;MACLC,KAAA,EAAOlB,IAAA;MACPmB,MAAA,EAAQnB,IAAA;MACRuB,eAAA,EAAiB,EAAC,CAAoBF,MAAA,CAAlBZ,YAAA,EAAa,OAAkBY,MAAA,CAAbZ,YAAA,EAAa;IACrD;kBAEAvB,KAAA,CAAAyB,aAAA,CAAC;IACCK,SAAS;IACTQ,IAAA,EAAK;IACLC,eAAA,EAAiBjB,SAAA;IACjBkB,gBAAA,EAAkBhB,UAAA;IAClBR,WAAA,EAAaA,WAAA;IACbyB,aAAA,EAAc;IACdC,EAAA,EAAInB,YAAA;IACJoB,EAAA,EAAIpB,YAAA;IACJqB,CAAA,EAAGvC;;AAMf"},"metadata":{},"sourceType":"module"}