{"ast":null,"code":"var _jsxFileName = \"/Users/mirustal/Documents/project/rooms/front/rooms/src/components/Modals.jsx\",\n    _s = $RefreshSig$();\n\nimport { Button, ButtonGroup, CellButton, Div, File, Group, Input, ModalCard, ModalRoot, Radio, ScreenSpinner, Title } from \"@vkontakte/vkui\";\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport { ModalIds } from \"../model/views\";\nimport { Locales } from \"../locales/locales\";\nimport { Room, Templates } from \"../model/roomTemplate\";\nimport { Icon24Camera } from \"@vkontakte/icons\";\nimport { uploadImage } from \"../serverApi/serverApi\";\nimport { AlertManagerContext, ErrorAlert } from \"./contexts/AlertProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var ModalManager = null;\nexport default function Modals() {\n  _s();\n\n  const joinRoomIdInputRef = useRef();\n  const createRoomNameInputRef = useRef();\n  const createChannelNameInputRef = useRef();\n  const renameChannelNameInputRef = useRef();\n  const alerts = useContext(AlertManagerContext);\n  const [templateType, setTemplateType] = useState(\"empty\");\n  const [activeModal, setActiveModal] = useState(null);\n  const [file, setFile] = useState(null);\n  const [url, setUrl] = useState(\"\");\n  const [fileName, setFileName] = useState(\"\");\n  const [isUploading, setIsUploading] = useState(false);\n\n  const handleFileChange = e => {\n    const uploadedFile = e.target.files[0];\n\n    if (uploadedFile) {\n      setFile(uploadedFile);\n      setFileName(uploadedFile.name);\n    }\n\n    convertToBase64(file, imgBase64 => {\n      setBase64Str(imgBase64);\n    });\n  };\n\n  function convertToBase64(file, callback) {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n\n    reader.onload = () => callback(reader.result);\n\n    reader.onerror = error => console.log('Error: ', error);\n  }\n\n  const handleCreateTemplate = name => {\n    const selectedTemplate = Templates[templateType]();\n    selectedTemplate.setName(name);\n    return selectedTemplate;\n  };\n\n  function findImageWithSize(images, width, height) {\n    const image = images.find(img => img.width === width && img.height === height);\n    return image.url;\n  }\n\n  useEffect(() => {\n    if (url) {\n      const newRoom = handleCreateTemplate(createRoomNameInputRef.current.value);\n      newRoom.setAvatar(url);\n      activeModal.data.loadRoom(newRoom);\n      onClose();\n    }\n  }, [url]);\n\n  function resizeAndCropImage(file, callback) {\n    const reader = new FileReader();\n\n    reader.onload = e => {\n      const img = new Image();\n\n      img.onload = () => {\n        const canvas = document.createElement('canvas');\n        const size = Math.min(img.width, img.height);\n        canvas.width = 480;\n        canvas.height = 480;\n        const ctx = canvas.getContext('2d'); // Вычисляем начальные точки обрезки\n\n        const startX = (img.width - size) / 2;\n        const startY = (img.height - size) / 2; // Обрезаем и изменяем размер\n\n        ctx.drawImage(img, startX, startY, size, size, 0, 0, 480, 480); // Получаем результат\n\n        canvas.toBlob(callback, 'image/jpeg', 0.9);\n      };\n\n      img.src = e.target.result;\n    };\n\n    reader.readAsDataURL(file);\n  }\n\n  async function handleUploadImage() {\n    setIsUploading(true);\n    const blobImg = await new Promise((resolve, reject) => {\n      resizeAndCropImage(file, blob => {\n        if (blob) {\n          resolve(blob);\n        } else {\n          reject(new Error('Ошибка обработки изображения'));\n        }\n      });\n    });\n    const formData = new FormData();\n    formData.append('image', blobImg);\n    await uploadImage(formData).then(response => {\n      const imageUrl = findImageWithSize(response.Images, 160, 160);\n      setUrl(imageUrl);\n    }).catch(error => {\n      alerts.showAlert(ErrorAlert({\n        message: \"не удалось создать комнату\",\n        alertManager: alerts\n      }));\n      console.log(\"ошибка получения фотокарточки\");\n    }).finally(() => {\n      setIsUploading(false);\n    });\n  }\n\n  ;\n\n  const handleTemplateChange = e => {\n    setTemplateType(e.target.value);\n  };\n\n  ModalManager = {\n    showModal: function (id, data) {\n      setActiveModal({\n        id: id,\n        data: data\n      });\n    }\n  };\n\n  const onClose = function () {\n    setActiveModal(null);\n  };\n\n  return /*#__PURE__*/_jsxDEV(ModalRoot, {\n    activeModal: activeModal === null || activeModal === void 0 ? void 0 : activeModal.id,\n    children: [/*#__PURE__*/_jsxDEV(ModalCard, {\n      id: ModalIds.JoinRoom,\n      header: Locales.Modals.JoinRoom.Header,\n      onClose: onClose,\n      children: /*#__PURE__*/_jsxDEV(Group, {\n        style: {\n          paddingTop: 10,\n          paddingLeft: 15,\n          paddingRight: 15\n        },\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          placeholder: Locales.Modals.JoinRoom.InputPlaceHolder,\n          type: \"text\",\n          getRef: joinRoomIdInputRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            marginTop: 15\n          },\n          size: \"l\",\n          mode: \"primary\",\n          stretched: true,\n          onClick: () => {\n            onClose();\n            activeModal.data.loadRoom(joinRoomIdInputRef.current.value);\n          },\n          children: Locales.Modals.JoinRoom.JoinButton\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalCard, {\n      id: ModalIds.CreateRoom,\n      header: Locales.Modals.CreateRoom.Header,\n      onClose: onClose,\n      children: /*#__PURE__*/_jsxDEV(Group, {\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          placeholder: Locales.Modals.CreateRoom.NameInputPlaceHolder,\n          getRef: createRoomNameInputRef,\n          disabled: isUploading,\n          style: {\n            marginTop: \"8px\",\n            marginBottom: \"16px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Div, {\n          style: {\n            display: 'flex',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(File, {\n            top: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u0435 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",\n            before: /*#__PURE__*/_jsxDEV(Icon24Camera, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this),\n            style: {\n              marginBottom: \"5px\"\n            },\n            accept: \"image/jpeg, image/png, image/heic, image/svg, image/jpg, image/ico, image/tiff, image/heif\",\n            onChange: handleFileChange,\n            disabled: isUploading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: '5px'\n            },\n            children: fileName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 5\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(Radio, {\n          name: \"template\",\n          value: \"empty\",\n          disabled: isUploading,\n          checked: templateType === \"empty\",\n          onChange: handleTemplateChange,\n          style: {\n            marginBottom: \"8px\"\n          },\n          children: Locales.Modals.CreateRoom.clearTemplate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Radio, {\n          name: \"template\",\n          value: \"default\",\n          disabled: isUploading,\n          checked: templateType === \"default\",\n          onChange: handleTemplateChange,\n          style: {\n            marginBottom: \"8px\"\n          },\n          children: Locales.Modals.CreateRoom.defaultTemplate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            marginTop: 15\n          },\n          size: \"l\",\n          mode: \"primary\",\n          stretched: true,\n          disabled: isUploading,\n          onClick: async () => {\n            if (file) {\n              await handleUploadImage();\n              setFileName(\"\");\n            } else {\n              const newRoom = handleCreateTemplate(createRoomNameInputRef.current.value);\n              activeModal.data.loadRoom(newRoom);\n              onClose();\n              setFileName(\"\");\n            }\n\n            setFile(null);\n          },\n          children: Locales.Modals.CreateRoom.CreateButton\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalCard, {\n      id: ModalIds.CreateChannel,\n      header: Locales.Modals.CreateChannel.Header,\n      onClose: onClose,\n      children: /*#__PURE__*/_jsxDEV(Group, {\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          getRef: createChannelNameInputRef,\n          placeholder: Locales.Modals.CreateChannel.NameInputPlaceHolder,\n          style: {\n            marginTop: \"8px\",\n            marginBottom: \"16px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            marginTop: 15\n          },\n          size: \"l\",\n          mode: \"primary\",\n          stretched: true,\n          onClick: () => {\n            onClose();\n            activeModal.data.editRoom(createChannelNameInputRef.current.value);\n          },\n          children: Locales.Modals.CreateRoom.CreateButton\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalCard, {\n      id: ModalIds.RenameChannel,\n      header: Locales.Modals.RenameChannel.Header,\n      onClose: onClose,\n      children: /*#__PURE__*/_jsxDEV(Group, {\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          getRef: renameChannelNameInputRef,\n          placeholder: Locales.Modals.RenameChannel.NameInputPlaceHolder,\n          style: {\n            marginTop: \"8px\",\n            marginBottom: \"16px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            marginTop: 15\n          },\n          size: \"l\",\n          mode: \"primary\",\n          stretched: true,\n          onClick: () => {\n            onClose();\n            const channelId = activeModal.data.renameChannelId;\n            activeModal.data.editRoom(renameChannelNameInputRef.current.value, channelId);\n          },\n          children: Locales.Modals.RenameChannel.renameButton\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 161,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Modals, \"s5tWewmjMNisZ7RpH8Ij1OQ5mzI=\");\n\n_c = Modals;\n\nvar _c;\n\n$RefreshReg$(_c, \"Modals\");","map":{"version":3,"names":["Button","ButtonGroup","CellButton","Div","File","Group","Input","ModalCard","ModalRoot","Radio","ScreenSpinner","Title","useContext","useEffect","useRef","useState","ModalIds","Locales","Room","Templates","Icon24Camera","uploadImage","AlertManagerContext","ErrorAlert","ModalManager","Modals","joinRoomIdInputRef","createRoomNameInputRef","createChannelNameInputRef","renameChannelNameInputRef","alerts","templateType","setTemplateType","activeModal","setActiveModal","file","setFile","url","setUrl","fileName","setFileName","isUploading","setIsUploading","handleFileChange","e","uploadedFile","target","files","name","convertToBase64","imgBase64","setBase64Str","callback","reader","FileReader","readAsDataURL","onload","result","onerror","error","console","log","handleCreateTemplate","selectedTemplate","setName","findImageWithSize","images","width","height","image","find","img","newRoom","current","value","setAvatar","data","loadRoom","onClose","resizeAndCropImage","Image","canvas","document","createElement","size","Math","min","ctx","getContext","startX","startY","drawImage","toBlob","src","handleUploadImage","blobImg","Promise","resolve","reject","blob","Error","formData","FormData","append","then","response","imageUrl","Images","catch","showAlert","message","alertManager","finally","handleTemplateChange","showModal","id","JoinRoom","Header","paddingTop","paddingLeft","paddingRight","InputPlaceHolder","marginTop","JoinButton","CreateRoom","NameInputPlaceHolder","marginBottom","display","alignItems","marginLeft","clearTemplate","defaultTemplate","CreateButton","CreateChannel","editRoom","RenameChannel","channelId","renameChannelId","renameButton"],"sources":["/Users/mirustal/Documents/project/rooms/front/rooms/src/components/Modals.jsx"],"sourcesContent":["import {\n  Button,\n  ButtonGroup,\n  CellButton,\n  Div,\n  File,\n  Group,\n  Input,\n  ModalCard,\n  ModalRoot,\n  Radio,\n  ScreenSpinner,\n  Title,\n} from \"@vkontakte/vkui\";\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport { ModalIds } from \"../model/views\";\nimport { Locales } from \"../locales/locales\";\nimport { Room, Templates } from \"../model/roomTemplate\";\nimport { Icon24Camera } from \"@vkontakte/icons\";\nimport { uploadImage } from \"../serverApi/serverApi\";\nimport { AlertManagerContext, ErrorAlert } from \"./contexts/AlertProvider\";\nexport var ModalManager = null;\n\nexport default function Modals() {\n  const joinRoomIdInputRef = useRef();\n  const createRoomNameInputRef = useRef();\n  const createChannelNameInputRef = useRef();\n  const renameChannelNameInputRef = useRef();\n  const alerts = useContext(AlertManagerContext)\n\n  const [templateType, setTemplateType] = useState(\"empty\");\n  const [activeModal, setActiveModal] = useState(null);\n  const [file, setFile] = useState(null);\n  const [url, setUrl] = useState(\"\")\n  const [fileName, setFileName] = useState(\"\");\n  const [isUploading, setIsUploading] = useState(false);\n\n\n  const handleFileChange = (e) => {\n    const uploadedFile = e.target.files[0];\n    if (uploadedFile) {\n      setFile(uploadedFile);\n      setFileName(uploadedFile.name);\n    }\n    \n    convertToBase64(file, (imgBase64) => {\n      setBase64Str(imgBase64);\n    });\n  \n  };\n\n\n  function convertToBase64(file, callback) {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => callback(reader.result);\n    reader.onerror = (error) => console.log('Error: ', error);\n}\n  \n  const handleCreateTemplate = (name) => {\n    const selectedTemplate = Templates[templateType]();\n    selectedTemplate.setName(name);\n    return selectedTemplate;\n  };\n  \n  function findImageWithSize(images, width, height) {\n    const image = images.find(img => img.width === width && img.height === height);\n    return image.url; \n  }\n  \n  useEffect(() =>  {\n    if (url) {\n      const newRoom = handleCreateTemplate(createRoomNameInputRef.current.value);\n      newRoom.setAvatar(url);\n      activeModal.data.loadRoom(newRoom);\n      onClose();\n    }\n  }, [url]);\n \n\n  function resizeAndCropImage(file, callback) {\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      const img = new Image();\n      img.onload = () => {\n        const canvas = document.createElement('canvas');\n        const size = Math.min(img.width, img.height);\n        canvas.width = 480;\n        canvas.height = 480;\n        const ctx = canvas.getContext('2d');\n  \n        // Вычисляем начальные точки обрезки\n        const startX = (img.width - size) / 2;\n        const startY = (img.height - size) / 2;\n  \n        // Обрезаем и изменяем размер\n        ctx.drawImage(img, startX, startY, size, size, 0, 0, 480, 480);\n  \n        // Получаем результат\n        canvas.toBlob(callback, 'image/jpeg', 0.9);\n      };\n      img.src = e.target.result;\n    };\n    reader.readAsDataURL(file);\n  }\n\n\n\nasync function  handleUploadImage() {\n      setIsUploading(true)\n      const blobImg = await new Promise((resolve, reject) => {\n        resizeAndCropImage(file, (blob) => {\n          if (blob) {\n            resolve(blob);\n          } else {\n            reject(new Error('Ошибка обработки изображения'));\n          }\n        })\n      })\n      const formData = new FormData();\n      formData.append('image', blobImg);\n      await uploadImage(formData)\n        .then((response) => {\n          const imageUrl = findImageWithSize(response.Images, 160, 160);\n          setUrl(imageUrl)\n        })\n        .catch((error) => {\n          alerts.showAlert(\n            ErrorAlert({\n              message: \"не удалось создать комнату\",\n              alertManager: alerts,\n            })\n          )\n          console.log(\"ошибка получения фотокарточки\")\n        })\n        .finally(() => {\n          setIsUploading(false);\n        })\n    };\n  \n\n\n\n\n\n  const handleTemplateChange = (e) => {\n    setTemplateType(e.target.value);\n  };\n\n  ModalManager = {\n    showModal: function (id, data) {\n      setActiveModal({ id: id, data: data });\n    },\n  };\n\n  const onClose = function () {\n    setActiveModal(null);\n  };\n\n  return (\n    <ModalRoot  activeModal={activeModal?.id}>\n      <ModalCard\n        id={ModalIds.JoinRoom}\n        header={Locales.Modals.JoinRoom.Header}\n        onClose={onClose}\n      >\n        <Group\n          style={{\n            paddingTop: 10,\n            paddingLeft: 15,\n            paddingRight: 15,\n          }}\n        >\n          <Input\n            placeholder={Locales.Modals.JoinRoom.InputPlaceHolder}\n            type=\"text\"\n            getRef={joinRoomIdInputRef}\n          />\n          <Button\n            style={{\n              marginTop: 15,\n            }}\n            size=\"l\"\n            mode=\"primary\"\n            stretched\n            onClick={() => {\n              onClose();\n              activeModal.data.loadRoom(joinRoomIdInputRef.current.value);\n            }}\n          >\n            {Locales.Modals.JoinRoom.JoinButton}\n          </Button>\n        </Group>\n      </ModalCard>\n\n      <ModalCard\n        id={ModalIds.CreateRoom}\n        header={Locales.Modals.CreateRoom.Header}\n        onClose={onClose}\n      >\n        <Group>\n          <Input\n            type=\"text\"\n            placeholder={Locales.Modals.CreateRoom.NameInputPlaceHolder}\n            getRef={createRoomNameInputRef}\n            disabled={isUploading}\n            style={{ marginTop: \"8px\", marginBottom: \"16px\" }}\n          />\n  <Div style={{ display: 'flex', alignItems: 'center' }}>\n    <File\n      top=\"Загрузите картинку\"\n      before={<Icon24Camera/>} \n      style={{ marginBottom: \"5px\" }}\n      accept=\"image/jpeg, image/png, image/heic, image/svg, image/jpg, image/ico, image/tiff, image/heif\"\n      onChange={handleFileChange}\n      disabled={isUploading}\n    />\n    <div style={{ marginLeft: '5px'}}>{fileName}</div> {}\n  </Div>\n          <Radio\n            name=\"template\"\n            value=\"empty\"\n            disabled={isUploading}\n            checked={templateType === \"empty\"}\n            onChange={handleTemplateChange}\n            style={{ marginBottom: \"8px\" }}\n          >\n            {Locales.Modals.CreateRoom.clearTemplate}\n          </Radio>\n          <Radio\n            name=\"template\"\n            value=\"default\"\n            disabled={isUploading}\n            checked={templateType === \"default\"}\n            onChange={handleTemplateChange}\n            style={{ marginBottom: \"8px\" }}\n          >\n            {Locales.Modals.CreateRoom.defaultTemplate}\n          </Radio>\n\n          <Button\n            style={{\n              marginTop: 15,\n            }}\n            size=\"l\"\n            mode=\"primary\"\n            stretched\n            disabled={isUploading}\n            onClick={ async () => {\n              if (file) {\n                await handleUploadImage()\n                setFileName(\"\")\n              }\n              else {\n                const newRoom = handleCreateTemplate(createRoomNameInputRef.current.value);  \n                activeModal.data.loadRoom(newRoom);\n                onClose();\n                setFileName(\"\")\n              }\n              setFile(null);\n            }}\n          >\n            {Locales.Modals.CreateRoom.CreateButton}\n          </Button>\n        </Group>\n      </ModalCard>\n\n      <ModalCard\n        id={ModalIds.CreateChannel}\n        header={Locales.Modals.CreateChannel.Header}\n        onClose={onClose}\n      >\n        <Group>\n          <Input\n            type=\"text\"\n            getRef={createChannelNameInputRef}\n            placeholder={Locales.Modals.CreateChannel.NameInputPlaceHolder}\n            style={{ marginTop: \"8px\", marginBottom: \"16px\" }}\n          />\n\n          <Button\n            style={{\n              marginTop: 15,\n            }}\n            size=\"l\"\n            mode=\"primary\"\n            stretched\n            onClick={() => {\n              onClose();\n              activeModal.data.editRoom(createChannelNameInputRef.current.value)\n              \n            }}\n          >\n            {Locales.Modals.CreateRoom.CreateButton}\n          </Button>\n        </Group>\n      </ModalCard>\n\n      <ModalCard\n        id={ModalIds.RenameChannel}\n        header={Locales.Modals.RenameChannel.Header}\n        onClose={onClose}\n      >\n        <Group>\n          <Input\n            type=\"text\"\n            getRef={renameChannelNameInputRef}\n            placeholder={Locales.Modals.RenameChannel.NameInputPlaceHolder}\n            style={{ marginTop: \"8px\", marginBottom: \"16px\" }}\n          />\n\n          <Button\n            style={{\n              marginTop: 15,\n            }}\n            size=\"l\"\n            mode=\"primary\"\n            stretched\n            onClick={() => {\n              onClose();\n              const channelId = activeModal.data.renameChannelId;\n              activeModal.data.editRoom(\n                renameChannelNameInputRef.current.value,\n                channelId)\n            }}\n          >\n            {Locales.Modals.RenameChannel.renameButton}\n          </Button>\n        </Group>\n      </ModalCard>\n\n      \n    </ModalRoot>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}