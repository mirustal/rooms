{"ast":null,"code":"import * as React from \"react\";\nimport { ConfigProviderOverride } from \"../components/ConfigProvider/ConfigProviderOverride\";\nimport { useObjectMemo } from \"../hooks/useObjectMemo\";\nimport { computeBrowserInfo } from \"./browser\";\nimport { DOMContext, getDOM } from \"./dom\";\nimport { platform as getPlatform } from \"./platform\";\n/**\n * @see https://vkcom.github.io/VKUI/#/SSR\n */\nexport var SSRWrapper = function (param) {\n  var userAgent = param.userAgent,\n    browserInfo = param.browserInfo,\n    children = param.children;\n  if (!browserInfo && userAgent) {\n    browserInfo = computeBrowserInfo(userAgent);\n  }\n  var dom = useObjectMemo(getDOM());\n  return /*#__PURE__*/React.createElement(ConfigProviderOverride, {\n    platform: getPlatform(browserInfo)\n  }, /*#__PURE__*/React.createElement(DOMContext.Provider, {\n    value: dom\n  }, children));\n};","map":{"version":3,"names":["React","ConfigProviderOverride","useObjectMemo","computeBrowserInfo","DOMContext","getDOM","platform","getPlatform","SSRWrapper","param","userAgent","browserInfo","children","dom","createElement","Provider","value"],"sources":["../../src/lib/SSR.tsx"],"sourcesContent":["import * as React from 'react';\nimport { ConfigProviderOverride } from '../components/ConfigProvider/ConfigProviderOverride';\nimport { useObjectMemo } from '../hooks/useObjectMemo';\nimport { BrowserInfo, computeBrowserInfo } from './browser';\nimport { DOMContext, getDOM } from './dom';\nimport { platform as getPlatform } from './platform';\n\nexport interface SSRWrapperProps {\n  userAgent?: string;\n  browserInfo?: BrowserInfo;\n  children?: React.ReactNode;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/SSR\n */\nexport const SSRWrapper = ({ userAgent, browserInfo, children }: SSRWrapperProps) => {\n  if (!browserInfo && userAgent) {\n    browserInfo = computeBrowserInfo(userAgent);\n  }\n\n  const dom = useObjectMemo(getDOM());\n\n  return (\n    <ConfigProviderOverride platform={getPlatform(browserInfo)}>\n      <DOMContext.Provider value={dom}>{children}</DOMContext.Provider>\n    </ConfigProviderOverride>\n  );\n};\n"],"mappings":"AAAA,YAAYA,KAAA,MAAW;AACvB,SAASC,sBAAsB,QAAQ;AACvC,SAASC,aAAa,QAAQ;AAC9B,SAAsBC,kBAAkB,QAAQ;AAChD,SAASC,UAAU,EAAEC,MAAM,QAAQ;AACnC,SAASC,QAAA,IAAYC,WAAW,QAAQ;AAQxC;;;AAGA,OAAO,IAAMC,UAAA,GAAa,SAAAA,CAAAC,KAAA;MAAGC,SAAA,GAAAD,KAAA,CAAAC,SAAA;IAAWC,WAAA,GAAAF,KAAA,CAAAE,WAAA;IAAaC,QAAA,GAAAH,KAAA,CAAAG,QAAA;EACnD,IAAI,CAACD,WAAA,IAAeD,SAAA,EAAW;IAC7BC,WAAA,GAAcR,kBAAA,CAAmBO,SAAA;EACnC;EAEA,IAAMG,GAAA,GAAMX,aAAA,CAAcG,MAAA;EAE1B,oBACEL,KAAA,CAAAc,aAAA,CAACb,sBAAA;IAAuBK,QAAA,EAAUC,WAAA,CAAYI,WAAA;kBAC5CX,KAAA,CAAAc,aAAA,CAACV,UAAA,CAAWW,QAAQ;IAACC,KAAA,EAAOH;KAAMD,QAAA;AAGxC"},"metadata":{},"sourceType":"module"}