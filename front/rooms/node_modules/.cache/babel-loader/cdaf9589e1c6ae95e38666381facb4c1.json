{"ast":null,"code":"import { _ as _define_property } from \"@swc/helpers/_/_define_property\";\nimport { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport * as React from \"react\";\nimport { classNames, hasReactNode } from \"@vkontakte/vkjs\";\nimport { useAdaptivity } from \"../../hooks/useAdaptivity\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { SizeType } from \"../../lib/adaptivity\";\nimport { Platform } from \"../../lib/platform\";\nimport { warnOnce } from \"../../lib/warnOnce\";\nimport { AppRootContext } from \"../AppRoot/AppRootContext\";\nimport { ModalRootContext } from \"../ModalRoot/ModalRootContext\";\nimport { RootComponent } from \"../RootComponent/RootComponent\";\nimport { Separator } from \"../Separator/Separator\";\nimport { Spacing } from \"../Spacing/Spacing\";\nimport { Footnote } from \"../Typography/Footnote/Footnote\";\nvar sizeXClassNames = _define_property({\n  none: classNames(\"vkuiGroup--sizeX-none\", \"vkuiInternalGroup--sizeX-none\")\n}, SizeType.COMPACT, \"vkuiGroup--sizeX-compact\");\nvar stylesMode = {\n  none: classNames(\"vkuiGroup--mode-none\", \"vkuiInternalGroup--mode-none\"),\n  plain: classNames(\"vkuiGroup--mode-plain\", \"vkuiInternalGroup--mode-plain\"),\n  card: classNames(\"vkuiGroup--mode-card\", \"vkuiInternalGroup--mode-card\")\n};\nvar stylesPadding = {\n  s: \"vkuiGroup--padding-s\",\n  m: \"vkuiGroup--padding-m\"\n};\n/**\n * Вычисляем mode для Group.\n */\nfunction useGroupMode(forcedMode, sizeX, isInsideModal) {\n  var layout = React.useContext(AppRootContext).layout;\n  if (forcedMode) {\n    return forcedMode;\n  }\n  if (isInsideModal) {\n    return \"plain\";\n  }\n  if (layout) {\n    return layout;\n  }\n  if (sizeX !== \"none\") {\n    return sizeX === SizeType.REGULAR ? \"card\" : \"plain\";\n  }\n  return \"none\";\n}\nvar warn = warnOnce(\"Group\");\n/**\n * @see https://vkcom.github.io/VKUI/#/Group\n */\nexport var Group = function (_param) {\n  var header = _param.header,\n    description = _param.description,\n    children = _param.children,\n    _param_separator = _param.separator,\n    separator = _param_separator === void 0 ? \"auto\" : _param_separator,\n    modeProps = _param.mode,\n    _param_padding = _param.padding,\n    padding = _param_padding === void 0 ? \"m\" : _param_padding,\n    tabIndexProp = _param.tabIndex,\n    restProps = _object_without_properties(_param, [\"header\", \"description\", \"children\", \"separator\", \"mode\", \"padding\", \"tabIndex\"]);\n  var isInsideModal = React.useContext(ModalRootContext).isInsideModal;\n  var platform = usePlatform();\n  var _useAdaptivity = useAdaptivity(),\n    _useAdaptivity_sizeX = _useAdaptivity.sizeX,\n    sizeX = _useAdaptivity_sizeX === void 0 ? \"none\" : _useAdaptivity_sizeX;\n  var mode = useGroupMode(modeProps, sizeX, isInsideModal);\n  var isTabPanel = restProps.role === \"tabpanel\";\n  if (process.env.NODE_ENV === \"development\" && isTabPanel && (!restProps[\"aria-controls\"] || !restProps[\"id\"])) {\n    warn('При использовании роли \"tabpanel\" необходимо задать значение свойств \"aria-controls\" и \"id\"');\n  }\n  var tabIndex = isTabPanel && tabIndexProp === undefined ? 0 : tabIndexProp;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(RootComponent, _object_spread_props(_object_spread({\n    Component: \"section\"\n  }, restProps), {\n    tabIndex: tabIndex,\n    baseClassName: classNames(\"vkuiInternalGroup\", \"vkuiGroup\", isInsideModal && \"vkuiGroup--inside-modal\", platform === Platform.IOS && \"vkuiGroup--ios\", sizeX !== SizeType.REGULAR && sizeXClassNames[sizeX], mode && stylesMode[mode], stylesPadding[padding])\n  }), hasReactNode(header) && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiGroup__header\"\n  }, header), children, hasReactNode(description) && /*#__PURE__*/React.createElement(Footnote, {\n    className: \"vkuiGroup__description\"\n  }, description)), separator !== \"hide\" && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Spacing, {\n    className: classNames(\"vkuiGroup__separator\", \"vkuiGroup__separator--spacing\"),\n    size: 16\n  }), /*#__PURE__*/React.createElement(Separator, {\n    className: classNames(\"vkuiGroup__separator\", \"vkuiGroup__separator--separator\", separator === \"show\" && \"vkuiGroup__separator--force\")\n  })));\n};","map":{"version":3,"names":["React","classNames","hasReactNode","useAdaptivity","usePlatform","SizeType","Platform","warnOnce","AppRootContext","ModalRootContext","RootComponent","Separator","Spacing","Footnote","sizeXClassNames","_define_property","none","COMPACT","stylesMode","plain","card","stylesPadding","s","m","useGroupMode","forcedMode","sizeX","isInsideModal","layout","useContext","REGULAR","warn","Group","_param","header","description","children","_param_separator","separator","modeProps","mode","_param_padding","padding","tabIndexProp","tabIndex","restProps","_object_without_properties","platform","_useAdaptivity","_useAdaptivity_sizeX","isTabPanel","role","process","env","NODE_ENV","undefined","createElement","Fragment","_object_spread_props","_object_spread","Component","baseClassName","IOS","className","size"],"sources":["../../../src/components/Group/Group.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { SizeType } from '../../lib/adaptivity';\nimport { Platform } from '../../lib/platform';\nimport { warnOnce } from '../../lib/warnOnce';\nimport { HTMLAttributesWithRootRef } from '../../types';\nimport { AppRootContext } from '../AppRoot/AppRootContext';\nimport { ModalRootContext } from '../ModalRoot/ModalRootContext';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Separator } from '../Separator/Separator';\nimport { Spacing } from '../Spacing/Spacing';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport styles from './Group.module.css';\n\nconst sizeXClassNames = {\n  none: classNames(styles['Group--sizeX-none'], 'vkuiInternalGroup--sizeX-none'),\n  [SizeType.COMPACT]: styles['Group--sizeX-compact'],\n};\n\nconst stylesMode = {\n  none: classNames(styles['Group--mode-none'], 'vkuiInternalGroup--mode-none'),\n  plain: classNames(styles['Group--mode-plain'], 'vkuiInternalGroup--mode-plain'),\n  card: classNames(styles['Group--mode-card'], 'vkuiInternalGroup--mode-card'),\n};\n\nconst stylesPadding = {\n  s: styles['Group--padding-s'],\n  m: styles['Group--padding-m'],\n};\n\n/**\n * Вычисляем mode для Group.\n */\nfunction useGroupMode(\n  forcedMode: GroupProps['mode'],\n  sizeX: SizeType | 'none',\n  isInsideModal: boolean,\n): 'plain' | 'card' | 'none' {\n  const { layout } = React.useContext(AppRootContext);\n\n  if (forcedMode) {\n    return forcedMode;\n  }\n\n  if (isInsideModal) {\n    return 'plain';\n  }\n\n  if (layout) {\n    return layout;\n  }\n\n  if (sizeX !== 'none') {\n    return sizeX === SizeType.REGULAR ? 'card' : 'plain';\n  }\n\n  return 'none';\n}\n\nexport interface GroupProps extends HTMLAttributesWithRootRef<HTMLElement> {\n  header?: React.ReactNode;\n  description?: React.ReactNode;\n  /**\n    `show` - разделитель всегда показывается,\n    `hide` - разделитель всегда спрятан,\n    `auto` - разделитель рисуется автоматически между соседними группами.\n   */\n  separator?: 'show' | 'hide' | 'auto';\n  /**\n   * Режим отображения. Если установлен `card`, выглядит как карточка c\n   * обводкой и внешними отступами. Если `plain` — без отступов и обводки.\n   * По умолчанию режим отображения зависит от `sizeX` (`mode=card` при `sizeX=REGULAR` и `mode=plain` при `sizeX=COMPACT`)\n   * В модальных окнах по умолчанию `plain`.\n   */\n  mode?: 'plain' | 'card';\n  /**\n   * Отвечает за отступы вокруг контента в режиме `card`.\n   */\n  padding?: 's' | 'm';\n}\n\nconst warn = warnOnce('Group');\n/**\n * @see https://vkcom.github.io/VKUI/#/Group\n */\nexport const Group = ({\n  header,\n  description,\n  children,\n  separator = 'auto',\n  mode: modeProps,\n  padding = 'm',\n  tabIndex: tabIndexProp,\n  ...restProps\n}: GroupProps) => {\n  const { isInsideModal } = React.useContext(ModalRootContext);\n  const platform = usePlatform();\n  const { sizeX = 'none' } = useAdaptivity();\n\n  const mode = useGroupMode(modeProps, sizeX, isInsideModal);\n\n  const isTabPanel = restProps.role === 'tabpanel';\n\n  if (\n    process.env.NODE_ENV === 'development' &&\n    isTabPanel &&\n    (!restProps['aria-controls'] || !restProps['id'])\n  ) {\n    warn(\n      'При использовании роли \"tabpanel\" необходимо задать значение свойств \"aria-controls\" и \"id\"',\n    );\n  }\n\n  const tabIndex = isTabPanel && tabIndexProp === undefined ? 0 : tabIndexProp;\n\n  return (\n    <>\n      <RootComponent\n        Component=\"section\"\n        {...restProps}\n        tabIndex={tabIndex}\n        baseClassName={classNames(\n          'vkuiInternalGroup',\n          styles['Group'],\n          isInsideModal && styles['Group--inside-modal'],\n          platform === Platform.IOS && styles['Group--ios'],\n          sizeX !== SizeType.REGULAR && sizeXClassNames[sizeX],\n          mode && stylesMode[mode],\n          stylesPadding[padding],\n        )}\n      >\n        {hasReactNode(header) && <div className={styles['Group__header']}>{header}</div>}\n        {children}\n        {hasReactNode(description) && (\n          <Footnote className={styles['Group__description']}>{description}</Footnote>\n        )}\n      </RootComponent>\n\n      {separator !== 'hide' && (\n        <React.Fragment>\n          <Spacing\n            className={classNames(styles['Group__separator'], styles['Group__separator--spacing'])}\n            size={16}\n          />\n          <Separator\n            className={classNames(\n              styles['Group__separator'],\n              styles['Group__separator--separator'],\n              separator === 'show' && styles['Group__separator--force'],\n            )}\n          />\n        </React.Fragment>\n      )}\n    </>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}